# ç¬¬9ç« ã€€äº‹å‰æ¡ä»¶ã®æ›¸ãæ–¹ï¼šèª­ã¿ã‚„ã™ã„ãƒã‚§ãƒƒã‚¯é †ã¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ğŸ“âœ¨

## ã“ã®ç« ã§ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã“ã¨ğŸ¯

* äº‹å‰æ¡ä»¶ï¼ˆPreconditionï¼‰ã‚’ã€Œèª­ã¿ã‚„ã™ã„é †ç•ªã€ã§æ›¸ã‘ã‚‹ã‚ˆã†ã«ãªã‚‹ğŸ”½âœ¨
* ã‚¨ãƒ©ãƒ¼æ–‡è¨€ã‚’ã€Œç›´ã—æ–¹ãŒã‚ã‹ã‚‹å½¢ã€ã«ã§ãã‚‹ğŸ§­ğŸ’¡
* `TypeError / RangeError` ã‚’ä½¿ã„åˆ†ã‘ã¦ã€å¤±æ•—ã®æ„å‘³ã‚’ãƒãƒƒã‚­ãƒªã•ã›ã‚‰ã‚Œã‚‹ğŸ§¨âœ…
* ã‚³ãƒ”ãƒšåœ°ç„ã‚’é¿ã‘ã‚‹ã€Œå°ã•ãªå‹ï¼†ãƒã‚§ãƒƒã‚¯ã®å‹ï¼ˆã‹ãŸï¼‰ã€ã‚’æŒã¦ã‚‹ğŸ§©ğŸ§°

---

## 2026ãƒ¡ãƒ¢ğŸ—“ï¸ğŸ§ 

* TypeScript ã¯ 2025-10-01 ã« **v5.9.3** ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã¦ã„ã¾ã™ï¼ˆå®‰å®šç‰ˆã®ç›®å®‰ã¨ã—ã¦ã“ã“ã‚’åŸºæº–ã«ã—ã¦OKï¼‰([GitHub][1])
* VS Code ã®è¨ºæ–­ï¼ˆèµ¤æ³¢ç·šï¼‰ã‚’è¦‹é€ƒã—ã«ããã™ã‚‹æ‹¡å¼µã¨ã—ã¦ **Error Lens** ãŒå®šç•ªã§ã™ğŸ‘€âœ¨([Visual Studio Marketplace][2])

---

## 1. äº‹å‰æ¡ä»¶ã¯ã€Œå…¥å£ã®èª¬æ˜æ›¸ã€ã§ã‚‚ã‚ã‚‹ğŸ“˜ğŸšª

äº‹å‰æ¡ä»¶ã£ã¦ã€Œå£Šã‚ŒãŸå…¥åŠ›ã‚’æ­¢ã‚ã‚‹ã€ã ã‘ã˜ã‚ƒãªãã¦ã€**é–¢æ•°ã®ä½¿ã„æ–¹ã‚’â€œã‚³ãƒ¼ãƒ‰ã§èª¬æ˜ã™ã‚‹â€**å½¹ç›®ã‚‚ã‚ã‚Šã¾ã™ğŸ™‚âœ¨

* âœ… èª­ã¿ã‚„ã™ã„äº‹å‰æ¡ä»¶ â†’ å‘¼ã³å‡ºã—å´ãŒæ­£ã—ãç›´ã›ã‚‹
* âŒ èª­ã¿ã«ãã„äº‹å‰æ¡ä»¶ â†’ ãƒ‡ãƒãƒƒã‚°æ™‚é–“ãŒçˆ†å¢—ã™ã‚‹ğŸ˜µâ€ğŸ’«ğŸ”§

ã ã‹ã‚‰ã“ã®ç« ã¯ã€**ãƒã‚§ãƒƒã‚¯ã®é †ç•ª**ã¨**ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®æ›¸ãæ–¹**ã«å…¨æŒ¯ã‚Šã—ã¾ã™ğŸ’ªğŸ“

---

## 2. ã€Œè»½ã„ãƒã‚§ãƒƒã‚¯ â†’ é‡ã„ãƒã‚§ãƒƒã‚¯ã€ã®é †ãŒåŸºæœ¬ğŸ”½âœ¨

![è»½ã„ãƒã‚§ãƒƒã‚¯ â†’ é‡ã„ãƒã‚§ãƒƒã‚¯](./picture/dbc_ts_study_009_order_stairs.png)

äº‹å‰æ¡ä»¶ã‚’ä¸¦ã¹ã‚‹ã¨ãã¯ã€**ã€Œã‚³ã‚¹ãƒˆã®ä½ã„ã‚‚ã®ï¼ˆé€Ÿã„ã‚‚ã®ï¼‰ã‹ã‚‰é †ã«ã‚„ã‚‹ã€**ã®ãŒåŸºæœ¬ã ã‚ˆğŸ™‚
åŸºæœ¬ã¯ã“ã‚ŒğŸ‘‡

### 2.1 ãƒã‚§ãƒƒã‚¯é †ãƒ†ãƒ³ãƒ—ãƒ¬ï¼ˆè¶…å®Ÿå‹™ï¼‰ğŸ§©

1. **å¿…é ˆãƒã‚§ãƒƒã‚¯**ï¼š`null/undefined`ã€ç©ºæ–‡å­—ã€ç©ºé…åˆ—ğŸš«
2. **å‹ãƒ»åŸºæœ¬å½¢**ï¼š`typeof`ã€`Number.isFinite`ã€`Array.isArray` ãªã©ğŸ§ª
3. **ç¯„å›²ãƒ»é•·ã•**ï¼š`min/max`ã€`length`ã€å¢ƒç•Œå€¤ğŸ“
4. **å½¢å¼**ï¼šæ­£è¦è¡¨ç¾ã€ãƒ‘ãƒ¼ã‚¹ã€ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼ˆã‚„ã‚„é‡ã‚ï¼‰ğŸ§¾
5. **æ•´åˆæ€§**ï¼šè¤‡æ•°é …ç›®ã®é–¢ä¿‚ã€åˆè¨ˆä¸€è‡´ã€é‡è¤‡ãªã—ï¼ˆé‡ã„ï¼†ã‚„ã‚„è¤‡é›‘ï¼‰ğŸ”—

> ã‚³ãƒ„ï¼š**ã€Œèª­ã‚€äººã®è„³ãŒãƒ©ã‚¯ã€ï¼‹ã€Œå®Ÿè¡Œã‚‚ãƒ ãƒ€ãŒå°‘ãªã„ã€**é †ã«ãªã£ã¦ã‚‹ã‚ˆğŸ™‚ğŸ§ âœ¨

```mermaid
flowchart TD
    1["1. å¿…é ˆ/å‹ âš¡<br/>(null, typeof)"] --> 2["2. ç¯„å›²/é•·ã• ğŸ“<br/>(min, max, length)"]
    2 --> 3["3. å½¢å¼ ğŸ§¾<br/>(æ­£è¦è¡¨ç¾, ãƒ‘ãƒ¼ã‚¹)"]
    3 --> 4["4. æ•´åˆæ€§ ğŸ”—<br/>(è¤‡æ•°é …ç›®ã®é–¢ä¿‚)"]
    note["è»½ã„ãƒã‚§ãƒƒã‚¯ã‹ã‚‰å…ˆã«è½ã¨ã™ï¼ğŸ”½"] -.-> 1
```

---

## 3. ä¾‹å¤–ã®ç¨®é¡ã‚’ä½¿ã„åˆ†ã‘ã‚‹ã¨ã€èª­ã¿ã‚„ã™ã•ãŒçˆ†ä¸ŠãŒã‚ŠğŸ’¥ğŸ“Œ

JS/TS ã«ã¯å®šç•ªã®ã‚¨ãƒ©ãƒ¼å‹ãŒã‚ã‚Šã¾ã™ğŸ‘‡

* `TypeError`ï¼šå‹ãŒãŠã‹ã—ã„ï¼ˆæƒ³å®šã¨é•ã†ç¨®é¡ï¼‰ğŸ§©âŒ
* `RangeError`ï¼šç¯„å›²ãŒãŠã‹ã—ã„ï¼ˆæ•°å€¤ãŒå¤§ãã™ã/å°ã•ã™ããªã©ï¼‰ğŸ“âŒ
* `Error`ï¼šãã®ä»–ï¼ˆæ±ç”¨ï¼‰ã€‚è¿·ã†ãªã‚‰ä¸€æ—¦ã“ã‚Œã§ã‚‚OKğŸ™‚

Node.js ã® `assert` ã¯ã€Œå‰æãŒå£Šã‚Œã¦ã„ãŸã‚‰è½ã¨ã™ã€ç”¨é€”ã§ä½¿ã‚ã‚Œã‚‹ã“ã¨ã‚‚ã‚ã‚Šã¾ã™ï¼ˆãŸã ã—ãƒ–ãƒ©ã‚¦ã‚¶å‰æãªã‚‰è‡ªå‰ã§ `throw` ãŒã‚·ãƒ³ãƒ—ãƒ«ï¼‰([Node.js][3])

---

## 4. è‰¯ã„ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å‹ï¼ˆã‹ãŸï¼‰ğŸ§ ğŸ§¾

![ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å‹](./picture/dbc_ts_study_009_error_message_recipe.png)

ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯ã€åŸºæœ¬ã“ã®3ç‚¹ã‚»ãƒƒãƒˆãŒå¼·ã„ã§ã™ğŸ‘‡âœ¨

### 4.1 ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®é»„é‡‘ãƒ¬ã‚·ãƒ”ğŸ†

* **ä½•ãŒï¼ˆå¯¾è±¡ï¼‰**ï¼šã©ã®å¼•æ•°ï¼Ÿã©ã®å€¤ï¼Ÿ
* **ã©ã†ã‚ã‚‹ã¹ãï¼ˆæœŸå¾…ï¼‰**ï¼šæ¡ä»¶ã‚’çŸ­ãæ–­è¨€
* **ã©ã†ç›´ã™ï¼ˆãƒ’ãƒ³ãƒˆï¼‰**ï¼šä¿®æ­£ã®æ–¹å‘ãŒã‚ã‹ã‚‹ä¸€è¨€ğŸ§­

#### æ‚ªã„ä¾‹ğŸ˜¢

* `Invalid input`
* `Error`
* `NG`

#### è‰¯ã„ä¾‹ğŸ™‚âœ¨

* `amount must be a finite number. (e.g. 1.5)`
* `name must be non-empty (trimmed).`
* `page must be between 1 and 100.`

> å€¤ï¼ˆå®Ÿéš›ã«æ¥ãŸå†…å®¹ï¼‰ã‚’å‡ºã™ã®ã¯ä¾¿åˆ©ã ã‘ã©ã€ãƒ­ã‚°ã‚„ç”»é¢ã«å‡ºã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹å ´æ‰€ã§ã¯**å€‹äººæƒ…å ±ã£ã½ã„å€¤ã¯å‡ºã•ãªã„**ã®ãŒå®‰å…¨ã ã‚ˆğŸ”ğŸ«¶

---

## 5. ã¾ãšã¯ã€Œé †ç•ªãŒæ‚ªã„ã€ã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã¦ã¿ã‚‹ğŸ‘€ğŸ’¥

ä¾‹ï¼šãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ã£ã½ã„é–¢æ•°ã‚’æƒ³åƒã—ã¦ã­ğŸ™‚

```ts
type CreateUserInput = {
  name: unknown;
  email: unknown;
  age: unknown;
};

export function createUser(input: CreateUserInput) {
  // âŒ é †ç•ªãŒæ‚ªã„ï¼šã„ããªã‚Šé‡ã„/è¤‡é›‘ãªã‚‚ã®ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚‚é›‘
  const email = String(input.email);
  if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
    throw new Error("email invalid"); // ç›´ã—æ–¹ãŒåˆ†ã‹ã‚‰ãªã„ğŸ˜µ
  }

  const age = Number(input.age);
  if (age < 0 || age > 150) {
    throw new Error("bad age"); // ä½•ãŒbadï¼ŸğŸ˜µâ€ğŸ’«
  }

  const name = String(input.name);
  if (name === "") {
    throw new Error("name"); // æƒ…å ±ã‚¼ãƒ­ğŸ˜‡
  }

  return { name, email, age };
}
```

### ã©ã“ãŒãƒ„ãƒ©ã„ï¼ŸğŸ˜­

* `unknown` ã‚’ **å³ `String()`** ã—ã¦ã¦ã€åŸå› ãŒæ¶ˆãˆã‚‹ï¼ˆ`null` ã‚‚ `"null"` ã«ãªã‚‹ï¼‰ğŸ«¥
* **å½¢å¼ãƒã‚§ãƒƒã‚¯ï¼ˆæ­£è¦è¡¨ç¾ï¼‰**ãŒæ—©ã™ãã¦ã€å‰æã®ã€Œå‹/ç©º/å¿…é ˆã€ãŒå¾Œå›ã—ğŸ˜µâ€ğŸ’«
* ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒã€Œç›´ã—æ–¹ä¸æ˜ã€ã°ã£ã‹ã‚ŠğŸ§­ğŸ’”

---

## 6. æ”¹å–„ç‰ˆï¼šèª­ã¿ã‚„ã™ã„é †ï¼‹ç›´ã›ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸âœ¨ğŸ§©

ã“ã“ã‹ã‚‰ãŒæœ¬ç•ªã ã‚ˆğŸ™‚ğŸ’ª

### 6.1 å°ã•ãªãƒã‚§ãƒƒã‚¯é–¢æ•°ã‚’ç”¨æ„ã™ã‚‹ï¼ˆèª­ã¿ã‚„ã™ã•æœ€å¼·ï¼‰ğŸ§°âœ¨

```ts
function assertNonEmptyString(value: unknown, name: string): asserts value is string {
  if (typeof value !== "string") {
    throw new TypeError(`${name} must be a string.`);
  }
  if (value.trim().length === 0) {
    throw new RangeError(`${name} must be non-empty (trimmed).`);
  }
}

function assertFiniteNumber(value: unknown, name: string): asserts value is number {
  if (typeof value !== "number") {
    throw new TypeError(`${name} must be a number.`);
  }
  if (!Number.isFinite(value)) {
    throw new RangeError(`${name} must be a finite number.`);
  }
}

function assertIntInRange(value: unknown, name: string, min: number, max: number): asserts value is number {
  assertFiniteNumber(value, name);
  if (!Number.isInteger(value)) {
    throw new RangeError(`${name} must be an integer.`);
  }
  if (value < min || value > max) {
    throw new RangeError(`${name} must be between ${min} and ${max}.`);
  }
}
```

> `asserts` ã‚’ä½¿ã†ã¨ã€Œã“ã“ã‚’é€šã£ãŸã‚‰å‹ãŒç¢ºå®šã€ã—ã¦ã€ä»¥é™ã®ã‚³ãƒ¼ãƒ‰ãŒã‚¹ãƒƒã‚­ãƒªã™ã‚‹ã‚ˆğŸ§ âœ¨ï¼ˆAssertion Functions ã®è€ƒãˆæ–¹ã¯ TypeScript 3.7 ã®ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆã§ç´¹ä»‹ã•ã‚Œã¦ã„ã¾ã™ï¼‰([TypeScript][4])

### 6.2 æ”¹å–„ã—ãŸ `createUser`ï¼ˆé †ç•ªãŒæ°—æŒã¡ã„ã„ï¼‰ğŸ§¼âœ¨

```ts
type CreateUserInput = {
  name: unknown;
  email: unknown;
  age: unknown;
};

export function createUser(input: CreateUserInput) {
  // 1) å¿…é ˆãƒ»å‹ï¼ˆè»½ã„ï¼‰
  assertNonEmptyString(input.name, "name");
  assertNonEmptyString(input.email, "email");
  assertIntInRange(input.age, "age", 0, 150);

  // 2) å½¢å¼ï¼ˆã‚„ã‚„é‡ã„ï¼‰
  // â€»ã“ã®æ­£è¦è¡¨ç¾ã¯â€œç°¡æ˜“ç‰ˆâ€ã ã‚ˆï¼ˆå®Ÿå‹™ã¯è¦ä»¶ã«åˆã‚ã›ã¦èª¿æ•´ï¼‰
  const email = input.email.trim();
  const emailLooksOk = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
  if (!emailLooksOk) {
    throw new RangeError("email must look like an email address. (e.g. name@example.com)");
  }

  // 3) ã“ã“ã¾ã§æ¥ãŸã‚‰å®‰å¿ƒã—ã¦ä½¿ãˆã‚‹ğŸ™‚âœ¨
  return { name: input.name.trim(), email, age: input.age };
}
```

### ã“ã“ãŒè‰¯ã„ğŸ™‚ğŸ’¡

* **å¿…é ˆï¼†å‹**ã§ã¾ãšå…¥å£ã‚’å›ºã‚ã‚‹ğŸšªğŸ§±
* ãã®ã‚ã¨ã«å½¢å¼ï¼ˆæ­£è¦è¡¨ç¾ï¼‰ã‚’ã‚„ã‚‹ã‹ã‚‰ã€å¤±æ•—åŸå› ãŒèª­ã¿ã‚„ã™ã„ğŸ§ âœ¨
* ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒã€ŒæœŸå¾…ã€ã€Œä¾‹ã€ãŒå…¥ã£ã¦ã¦ç›´ã›ã‚‹ğŸ§­âœ…

---

## 7. â€œé‡ã„ãƒã‚§ãƒƒã‚¯â€ã£ã¦ä½•ï¼Ÿã®å…·ä½“ä¾‹ğŸ˜ğŸ’¦

ã€Œé‡ã„ã€ã«ã¯2ç¨®é¡ã‚ã‚Šã¾ã™ğŸ‘‡

### 7.1 å®Ÿè¡Œã‚³ã‚¹ãƒˆãŒé‡ã„âš¡

* æ­£è¦è¡¨ç¾ï¼ˆç‰¹ã«è¤‡é›‘ï¼‰ğŸ§¾
* JSONãƒ‘ãƒ¼ã‚¹ã€æ—¥ä»˜ãƒ‘ãƒ¼ã‚¹ğŸ“…
* æš—å·åŒ–/ãƒãƒƒã‚·ãƒ¥ã€å·¨å¤§é…åˆ—èµ°æŸ»ğŸ”
* ãƒ•ã‚¡ã‚¤ãƒ«/ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯/DBã‚¢ã‚¯ã‚»ã‚¹ï¼ˆæœ€é‡é‡ï¼‰ğŸŒ©ï¸

### 7.2 ç†è§£ã‚³ã‚¹ãƒˆãŒé‡ã„ğŸ§ 

* è¤‡æ•°é …ç›®ã®æ•´åˆæ€§ï¼ˆ`start < end` ã¨ã‹ï¼‰ğŸ”—
* åˆè¨ˆä¸€è‡´ã€é‡è¤‡ãªã—ã€ç›¸äº’ä¾å­˜ãƒ«ãƒ¼ãƒ«ğŸ§©

ã ã‹ã‚‰ã€**å˜ç™ºã®å¿…é ˆ/å‹/ç¯„å›² â†’ å½¢å¼ â†’ æ•´åˆæ€§**ã®é †ãŒèª­ã¿ã‚„ã™ã„ã‚ˆğŸ™‚âœ¨

---

## 8. VS Code ã§ã€Œå¤±æ•—ã®è¦‹ãˆæ–¹ã€ã‚’è‰¯ãã™ã‚‹ğŸ‘€âœ¨

äº‹å‰æ¡ä»¶ã®å­¦ç¿’ã£ã¦ã€ã€Œã©ã“ã§è½ã¡ãŸã‹ã€ã‚’ã™ãè¦‹ã‚Œã‚‹ã¨è¶…ãƒ©ã‚¯ã§ã™ğŸ”¦ğŸ™‚
VS Code ã ã¨ã€è¨ºæ–­ã‚’å¼·èª¿è¡¨ç¤ºã™ã‚‹ **Error Lens** ãŒäººæ°—ã ã‚ˆâœ¨([Visual Studio Marketplace][2])

---

## 9. AIï¼ˆCopilot/Codexï¼‰ã«æ‰‹ä¼ã‚ã›ã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆä¾‹ğŸ¤–ğŸ’¬

ãƒã‚§ãƒƒã‚¯ã‚„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ”¹å–„ã¯ã€AIãŒå¾—æ„ãªã¨ã“ã‚âœ¨
ãã®ã¾ã¾ã‚³ãƒ”ãƒšã§ä½¿ãˆã‚‹ä¾‹ğŸ‘‡ğŸ™‚

* ã€Œã“ã®é–¢æ•°ã®äº‹å‰æ¡ä»¶ã‚’ã€**è»½ã„â†’é‡ã„**ã®é †ã«ä¸¦ã¹æ›¿ãˆã¦ã€‚ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯ **ç›´ã—æ–¹ãŒåˆ†ã‹ã‚‹**å½¢ã«ã—ã¦ã€
* ã€Œ`TypeError` ã¨ `RangeError` ã‚’ä½¿ã„åˆ†ã‘ã¦ã€‚ç†ç”±ã‚‚ã‚³ãƒ¡ãƒ³ãƒˆã§çŸ­ãã€
* ã€Œæ‚ªã„ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’5å€‹ä½œã£ã¦ã‹ã‚‰ã€è‰¯ã„å½¢ã«ãƒªãƒ©ã‚¤ãƒˆã—ã¦ï¼ˆå·®åˆ†ãŒåˆ†ã‹ã‚‹ã‚ˆã†ã«ï¼‰ã€

> æ³¨æ„ï¼šAIã¯â€œãã‚Œã£ã½ã„æ­£è¦è¡¨ç¾â€ã‚’å‡ºã—ãŒã¡ãªã®ã§ã€ãƒ¡ãƒ¼ãƒ«å½¢å¼ãªã©ã¯è¦ä»¶ã«åˆã‚ã›ã¦äººé–“ãŒæœ€çµ‚æ±ºå®šã—ã‚ˆğŸ™‚ğŸ«¶

---

## 10. æ¼”ç¿’ğŸ§ªâœ¨ï¼ˆæ‰‹ã‚’å‹•ã‹ã™ã¨ä¸€æ°—ã«èº«ã«ã¤ãã‚ˆï¼ï¼‰

### å•1ï¼šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ”¹å–„ğŸ”§ğŸ§¾

æ¬¡ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã€Œç›´ã—æ–¹ãŒåˆ†ã‹ã‚‹ã€å½¢ã«ã—ã¦ã­ğŸ™‚

1. `invalid`
2. `bad amount`
3. `email error`
4. `name`

âœ… ç›®æ¨™ï¼š**å¯¾è±¡ï¼‹æœŸå¾…ï¼‹ãƒ’ãƒ³ãƒˆ** ã‚’å…¥ã‚Œã‚‹ğŸ§­âœ¨

---

### å•2ï¼šé †ç•ªã‚’ç›´ã™ğŸ”ğŸ”½

æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã€ãƒã‚§ãƒƒã‚¯é †ãŒå¾®å¦™ã§ã™ğŸ˜µâ€ğŸ’«
ã€Œè»½ã„â†’é‡ã„ã€ã«ä¸¦ã¹æ›¿ãˆã¦ã€ä¾‹å¤–å‹ã‚‚ã„ã„æ„Ÿã˜ã«ã—ã¦ã­ğŸ™‚

```ts
export function setProfile(name: unknown, bio: unknown) {
  if ((String(bio)).length > 160) throw new Error("bio too long");
  if (typeof name !== "string") throw new Error("name");
  if (!/^[a-z0-9_]+$/i.test(String(name))) throw new Error("name invalid");
  if (typeof bio !== "string") throw new Error("bio");
}
```

---

### è§£ç­”ä¾‹âœ…âœ¨ï¼ˆã¾ãšã¯â€œå‹â€ã‚’çœŸä¼¼ã—ã¦OKï¼‰

```ts
export function setProfile(name: unknown, bio: unknown) {
  // 1) å‹ï¼ˆè»½ã„ï¼‰
  if (typeof name !== "string") throw new TypeError("name must be a string.");
  if (typeof bio !== "string") throw new TypeError("bio must be a string.");

  // 2) å¿…é ˆãƒ»é•·ã•ï¼ˆè»½ã„ã€œä¸­ï¼‰
  if (name.trim().length === 0) throw new RangeError("name must be non-empty (trimmed).");
  if (bio.length > 160) throw new RangeError("bio must be 160 characters or less.");

  // 3) å½¢å¼ï¼ˆã‚„ã‚„é‡ã„ï¼‰
  if (!/^[a-z0-9_]+$/i.test(name)) {
    throw new RangeError("name must match /^[a-z0-9_]+$/ (letters, numbers, underscore).");
  }
}
```

---

## 11. ç« æœ«ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆâœ…ğŸ§ 

* [ ] ãƒã‚§ãƒƒã‚¯é †ã¯ **å¿…é ˆ/å‹ â†’ ç¯„å›²/é•·ã• â†’ å½¢å¼ â†’ æ•´åˆæ€§** ã«ãªã£ã¦ã‚‹ï¼ŸğŸ”½
* [ ] ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã« **å¯¾è±¡ï¼‹æœŸå¾…ï¼‹ãƒ’ãƒ³ãƒˆ** ãŒå…¥ã£ã¦ã‚‹ï¼ŸğŸ§­
* [ ] `TypeError`ï¼ˆå‹ï¼‰ã¨ `RangeError`ï¼ˆç¯„å›²/æ¡ä»¶ï¼‰ã‚’é›‘ã«æ··ãœã¦ãªã„ï¼ŸğŸ§©ğŸ“
* [ ] â€œé‡ã„ãƒã‚§ãƒƒã‚¯â€ã‚’å…ˆã«ã‚„ã£ã¦ãªã„ï¼ŸğŸ˜ğŸ’¦
* [ ] ã‚³ãƒ”ãƒšãŒå¢—ãˆãã†ãªã‚‰ã€å°ã•ãª `assert...` é–¢æ•°ã«ã§ããã†ï¼ŸğŸ§°âœ¨

[1]: https://github.com/microsoft/typescript/releases?utm_source=chatgpt.com "Releases Â· microsoft/TypeScript"
[2]: https://marketplace.visualstudio.com/items?itemName=usernamehw.errorlens&utm_source=chatgpt.com "Error Lens"
[3]: https://nodejs.org/api/assert.html?utm_source=chatgpt.com "Assert | Node.js v25.4.0 Documentation"
[4]: https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-7.html?utm_source=chatgpt.com "Documentation - TypeScript 3.7"

