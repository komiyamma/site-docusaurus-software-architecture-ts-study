# ç¬¬29ç«  ã¾ãšãƒ•ã‚©ãƒ«ãƒ€ã§åˆ†ã‘ã‚‹ï¼ˆç‰©ç†å¢ƒç•Œï¼‰ğŸ“âœ‚ï¸

## ã“ã®ç« ã§ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã“ã¨ğŸ¯âœ¨

* ã€Œå¢ƒç•Œï¼ˆBounded Contextï¼‰ã€ã‚’ **ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆã§â€œè¦‹ãˆã‚‹å½¢â€** ã«ã§ãã‚‹ğŸ“¦ğŸ‘€
* **ä»–ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®ä¸­èº«ã«å‹æ‰‹ã«è§¦ã‚Œãªã„** import ã®ç™–ã‚’ã¤ã‘ã‚‰ã‚Œã‚‹ğŸ›¡ï¸ğŸ”Œ
* å¢ƒç•ŒãŒå´©ã‚Œã«ãã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆéª¨æ ¼ã‚’ä½œã‚Œã‚‹ğŸ§±ğŸ’ª

---

## 0. 2026/02/02 æ™‚ç‚¹ã®ãƒŸãƒ‹ãƒ¡ãƒ¢ğŸ—ï¸ğŸ§¸

* TypeScript ã®å®‰å®šç‰ˆãƒ©ã‚¤ãƒ³ã¯ **5.9.3**ï¼ˆnpm ã® â€œLatestâ€ è¡¨ç¤ºï¼‰ã ã‚ˆğŸ§©âœ¨ ([NPM][1])
* 5.9 ã®å…¬å¼ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆã‚‚å…¬é–‹ã•ã‚Œã¦ã‚‹ï¼ˆâ€»ã“ã®ç« ã¯â€œãƒ•ã‚©ãƒ«ãƒ€å¢ƒç•Œâ€ãŒä¸»å½¹ãªã®ã§ã€æ©Ÿèƒ½è©³ç´°ã¯å¾Œå›ã—ã§OKï¼‰ğŸ“ğŸŒ± ([TypeScript][2])

---

## 1. ãªã‚“ã§ã€Œãƒ•ã‚©ãƒ«ãƒ€ã§åˆ†ã‘ã‚‹ã€ãŒæœ€åˆã«åŠ¹ãã®ï¼ŸğŸ’¡ğŸ“

![ã‚¤ãƒ¡ãƒ¼ã‚¸](./picture/bc_ts_study_029_entry_point.png)

```mermaid
flowchart TD
    External[åˆ¥BCã®ã‚³ãƒ¼ãƒ‰] -- "å…¥å£(@contexts/listing)çµŒç”±" --> Entry["ğŸšª index.ts<br/>(çª“å£)"]
    
    subgraph Inside [BCå†…éƒ¨]
        Entry -- "å†…éƒ¨å‘¼ã³å‡ºã—" --> App[app/ ã‚¢ãƒ—ãƒªå±¤]
        App -- "ãƒ«ãƒ¼ãƒ«å‚ç…§" --> Domain[domain/ ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤]
    end
    
    style Entry fill:#E1F5FE,stroke:#01579B
```

è¨­è¨ˆã«æ…£ã‚Œã¦ãªã„æ™‚ã»ã©ã€**é ­ã®ä¸­ã®å¢ƒç•Œ**ã£ã¦ã™ãæº¶ã‘ã¡ã‚ƒã†ã®ã­ğŸ« 
ã ã‹ã‚‰æœ€åˆã«ã‚„ã‚‹ã¹ãã¯ã“ã‚ŒğŸ‘‡

* **ç‰©ç†çš„ã«åˆ†ã‘ã‚‹**ï¼ˆï¼æ··ã–ã‚Šã«ããã™ã‚‹ï¼‰ğŸ§±
* **å…¥å£ã‚’æ±ºã‚ã‚‹**ï¼ˆï¼è§¦ã£ã¦ã„ã„å ´æ‰€ã ã‘è§¦ã‚‹ï¼‰ğŸšªâœ¨

ãƒ•ã‚©ãƒ«ãƒ€ã¯ã€å¢ƒç•Œã‚’å®ˆã‚‹ **ã‚¬ãƒ¼ãƒ‰ãƒ¬ãƒ¼ãƒ«** ã¿ãŸã„ãªã‚‚ã®ğŸï¸ğŸ›¡ï¸
ã€Œã“ã“ã‹ã‚‰å…ˆã¯åˆ¥ã®ä¸–ç•Œã€œï¼ã€ã£ã¦è¦–è¦šã§åˆ†ã‹ã‚‹ã ã‘ã§ã€äº‹æ•…ãŒæ¿€æ¸›ã™ã‚‹ã‚ˆğŸš‘ğŸ’¦

---

## 2. â€œå­¦å†…ãƒ•ãƒªãƒâ€ ã®BCã‚’ãƒ•ã‚©ãƒ«ãƒ€ã«è½ã¨ã™ğŸ›ï¸ğŸ«

ä¾‹ã¨ã—ã¦ã€ã“ã‚“ãª3ã¤ã«åˆ†ã‘ã‚‹ã‚ˆï¼ˆç« ã®å¾ŒåŠã§å¢—ã‚„ã—ã¦ã‚‚OKï¼‰ğŸŒ¸

* Listingï¼ˆå‡ºå“ï¼‰ğŸ§¾ğŸ“¦
* Tradingï¼ˆå–å¼•ï¼‰ğŸ’³ğŸ¤
* Shippingï¼ˆé…é€ï¼‰ğŸššğŸ“®

**ãƒã‚¤ãƒ³ãƒˆ**ï¼šBCåã¯ãƒ•ã‚©ãƒ«ãƒ€åã«ã‚‚ãªã‚‹ã‹ã‚‰ã€çŸ­ãã¦æ„å‘³ãŒã‚ºãƒ¬ã«ãã„å˜èªãŒâ—ğŸ·ï¸âœ¨

---

## 3. ã¾ãšã¯æœ€å°ã®â€œå¢ƒç•Œãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆâ€ã‚’ä½œã‚‹ğŸ§±ğŸ“

æœ€åˆã¯ã“ã‚Œã§ååˆ†ï¼ã€Œæ·±ãã—ã™ããªã„ã€ã®ãŒã‚³ãƒ„ã ã‚ˆğŸ§¸ğŸŒ±

```text
src/
  contexts/
    listing/
      index.ts          â† å¤–ã«è¦‹ã›ã‚‹å…¥å£ï¼ˆPublic APIï¼‰ğŸšªâœ¨
      app/              â† ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ï¼ˆã‚¢ãƒ—ãƒªå±¤ï¼‰ğŸ®
      domain/           â† ãƒ«ãƒ¼ãƒ«ã‚„å‹ï¼ˆãƒ‰ãƒ¡ã‚¤ãƒ³å±¤ï¼‰ğŸ§ 
    trading/
      index.ts
      app/
      domain/
    shipping/
      index.ts
      app/
      domain/
  shared/               â† å…±æœ‰ã¯æœ€å°ï¼å¢—ã‚„ã—ã™ãæ³¨æ„âš ï¸
    utils/

```mermaid
graph TD
    Root[src/] --> C[contexts/]
    Root --> S[shared/]
    
    C --> BC1[listing/]
    C --> BC2[trading/]
    
    subgraph BC_Detail ["BCå†…éƒ¨ã®åŸºæœ¬å½¢"]
        BC1 --- I["index.ts (å…¥å£)"]
        BC1 --- A["app/ (æ“ä½œæ‰‹é †)"]
        BC1 --- D["domain/ (ä¸–ç•Œã®æ³•å‰‡)"]
    end
```
```

## â€œdomainâ€ ã¨ â€œappâ€ ã®é›‘ãªç†è§£ã§OKğŸ™†â€â™€ï¸âœ¨

* **domain**ï¼šãƒ«ãƒ¼ãƒ«ãƒ»å‹ãƒ»ä¸å¤‰æ¡ä»¶ãƒ»çŠ¶æ…‹â€¦ï¼ˆæ°—æŒã¡ã€Œä¸–ç•Œã®æ³•å‰‡ã€ï¼‰ğŸ§ ğŸ“œ
* **app**ï¼šã‚„ã‚ŠãŸã„ã“ã¨ï¼ˆãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ï¼‰ã‚’ä¸¦ã¹ã‚‹å ´æ‰€ï¼ˆæ°—æŒã¡ã€Œæ“ä½œæ‰‹é †ã€ï¼‰ğŸ®ğŸ§¾

---

## 4. å…¥å£ãƒ•ã‚¡ã‚¤ãƒ« `index.ts` ã‚’ â€œçª“å£â€ ã«ã™ã‚‹ğŸšªğŸ“®

BCã®å¤–ã‹ã‚‰ã¯ **å¿…ãšã“ã“çµŒç”±** ã«ã™ã‚‹ã‚ˆâœ…
ã™ã‚‹ã¨ã€Œå¤–ã‹ã‚‰è§¦ã£ã¦ã„ã„ã‚‚ã®ã€ãŒè‡ªç„¶ã«æƒã†âœ¨

ä¾‹ï¼š`src/contexts/listing/index.ts`

```ts
export { createListing } from "./app/createListing";
export type { ListingId, ListingItem } from "./domain/types";
```

âœ… è‰¯ã„importï¼ˆå¤–ã®äººã¯å…¥å£ã ã‘è¦‹ã‚‹ï¼‰

```ts
import { createListing } from "@contexts/listing";
```

âŒ ãƒ€ãƒ¡importï¼ˆä¸­èº«ã‚’è¦—ãã«è¡Œãï¼å¢ƒç•Œç ´å£Šï¼‰

```ts
import { ListingItem } from "../contexts/listing/domain/types"; // ã ã‚ã€œğŸ˜­
```

---

## 5. â€œå…¥å£importâ€ ã‚’æ¥½ã«ã™ã‚‹ï¼ˆtsconfig ã® pathsï¼‰ğŸ§­âœ¨

ç›¸å¯¾ãƒ‘ã‚¹åœ°ç„ï¼ˆ`../../../`ï¼‰ã¯ã€å¢ƒç•Œã‚’å£Šã™æ¸©åºŠã ã‚ˆğŸ˜µâ€ğŸ’«
ã ã‹ã‚‰ **å…¥å£å°‚ç”¨ã®importå** ã‚’ä½œã£ã¦ã‚ã’ã‚‹ã®ãŒæœ€å¼·ğŸ’ª

TypeScript ã¯ `baseUrl` ã¨ `paths` ã§ import ã®è§£æ±ºãƒ«ãƒ¼ãƒ«ã‚’ä½œã‚Œã‚‹ã‚ˆğŸ“Œ ([TypeScript][3])

`tsconfig.json` ã®ä¸€ä¾‹ğŸ‘‡

```json
{
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "@contexts/listing": ["src/contexts/listing/index.ts"],
      "@contexts/trading": ["src/contexts/trading/index.ts"],
      "@contexts/shipping": ["src/contexts/shipping/index.ts"]
    }
  }
}
```

ã“ã‚Œã§ **ã€Œå…¥å£ã—ã‹importã§ããªã„ç©ºæ°—ã€** ãŒä½œã‚Œã‚‹ã‚ˆğŸŒ¿âœ¨

---

## 6. â€œå…±æœ‰(shared)â€ ã¯æœ€å°ã«ã—ã‚ˆã†ã­âš ï¸ğŸ§¬

å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ã£ã¦ä¾¿åˆ©ãªã‚“ã ã‘ã©â€¦å¢—ãˆå§‹ã‚ã‚‹ã¨ä¸€æ°—ã«ã“ã†ãªã‚‹ğŸ‘‡

* ãªã‚“ã§ã‚‚ shared ã«ç½®ã
* å…¨ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãŒ shared ã«ä¾å­˜ã™ã‚‹
* çµå±€ã€Œå¤§ããªä¸€æšå²©ã€ã«é€†æˆ»ã‚ŠğŸ˜‡â¡ï¸ğŸ˜±

shared ã«å…¥ã‚Œã¦ã„ã„ã®ã¯ã€ã ã„ãŸã„ã“ã®3ç¨®é¡ã ã‘ã«çµã‚‹ã®ãŒãŠã™ã™ã‚ğŸ™âœ¨

* **æŠ€è¡“çš„ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£**ï¼ˆæ—¥ä»˜ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã€æ–‡å­—åˆ—æ•´å½¢ãªã©ï¼‰ğŸ”§
* **ãƒ‰ãƒ¡ã‚¤ãƒ³ã˜ã‚ƒãªã„ç´”ç²‹é–¢æ•°**ï¼ˆå‰¯ä½œç”¨ãªã—ï¼‰ğŸ§¼
* **è¶…å®‰å®šãªå‹**ï¼ˆå¢—ãˆã‚‹ãªã‚‰â€œåˆ¥ã®BCã«ã™ã¹ãâ€ã®ã‚µã‚¤ãƒ³ã‹ã‚‚ï¼‰ğŸš¨

```mermaid
mindmap
  root((Sharedã«ç½®ã„ã¦ã„ã„ã‚‚ã®))
    æŠ€è¡“ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
      æ—¥ä»˜ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
      æ–‡å­—åˆ—æ•´å½¢
    å‰¯ä½œç”¨ãªã—ã®ç´”ç²‹é–¢æ•°
      æŠ€è¡“çš„ãªè¨ˆç®—ã®ã¿
    ç¦æ­¢äº‹é … (æ¥­å‹™èªå½™)
      Entityã¯å„BCã¸
      Order / Userãªã©ã¯ç½®ã‹ãªã„
```

---

## 7. ç« ã®ã‚´ãƒ¼ãƒ«ï¼šãƒ•ã‚©ãƒ«ãƒ€å¢ƒç•Œã‚’â€œå´©ã‚Œã«ããã™ã‚‹ãƒ«ãƒ¼ãƒ«â€ğŸ§¾âœ…

ã“ã®ç« ã§ã¯ã€ã¾ãšæ–‡ç« ã§OKï¼ã‚³ãƒ¼ãƒ‰ã‚ˆã‚Šå…ˆã«ãƒ«ãƒ¼ãƒ«ã‚’ç½®ãã‚ˆğŸ“ŒğŸ˜Š

## å¢ƒç•Œãƒ«ãƒ¼ãƒ«ï¼ˆæœ€å°ã‚»ãƒƒãƒˆï¼‰ğŸ›¡ï¸

1. **ä»–BCã® `domain/` ã‚„ `app/` ã‚’ç›´æ¥importã—ãªã„** ğŸ™…â€â™€ï¸
2. **importã¯ `@contexts/<name>`ï¼ˆå…¥å£ï¼‰ã‹ã‚‰ã ã‘** ğŸšªâœ¨
3. **shared ã« â€œæ¥­å‹™ã®è¨€è‘‰â€ ã‚’ç½®ã‹ãªã„**ï¼ˆç½®ããŸããªã£ãŸã‚‰BCå†æ¤œè¨ï¼‰ğŸ§ âš ï¸

---

## 8. ãƒŸãƒ‹æ¼”ç¿’ï¼šå¢ƒç•Œãƒ•ã‚©ãƒ«ãƒ€ã‚’å®Ÿéš›ã«ä½œã‚‹ğŸ§ªğŸ“

## æ¼”ç¿’Aï¼šãƒ•ã‚©ãƒ«ãƒ€ã‚’æ˜ã‚‹ğŸ•³ï¸âœ¨

1. `src/contexts/` ã‚’ä½œã‚‹
2. `listing / trading / shipping` ã‚’ä½œã‚‹
3. ãã‚Œãã‚Œã« `domain/ app/ index.ts` ã‚’ä½œã‚‹

## æ¼”ç¿’Bï¼šã¾ãš1å€‹ã ã‘é€šã™ï¼ˆListingï¼‰ğŸ›ï¸âœ…

`src/contexts/listing/domain/types.ts`

```ts
export type ListingId = string;

export type ListingItem = {
  id: ListingId;
  title: string;
  priceYen: number;
};
```

`src/contexts/listing/app/createListing.ts`

```ts
import type { ListingItem } from "../domain/types";

export function createListing(input: Omit<ListingItem, "id">): ListingItem {
  return { id: crypto.randomUUID(), ...input };
}
```

`src/contexts/listing/index.ts`

```ts
export { createListing } from "./app/createListing";
export type { ListingId, ListingItem } from "./domain/types";
```

æœ€å¾Œã«ã€ã©ã“ã‹ã®å‘¼ã³å‡ºã—å´ï¼ˆä¾‹ï¼š`src/main.ts`ï¼‰ã§å…¥å£importã—ã¦å‹•ã‹ã™ğŸ§¸âœ¨

```ts
import { createListing } from "@contexts/listing";

const item = createListing({ title: "æ•™ç§‘æ›¸ã‚»ãƒƒãƒˆğŸ“š", priceYen: 1200 });
console.log(item);
```

---

## 9. AIç›¸æ£’ã«é ¼ã‚€ã¨ãã®è³ªå•ãƒ†ãƒ³ãƒ—ãƒ¬ğŸ¤–ğŸ’¬

## ãƒ†ãƒ³ãƒ—ãƒ¬1ï¼šãƒ•ã‚©ãƒ«ãƒ€ç§»å‹•ã®æ‰‹é †ã‚’å‡ºã—ã¦ã‚‚ã‚‰ã†ğŸ“¦

* ã€Œã„ã¾ `src/` ç›´ä¸‹ã«æ•£ã‚‰ã°ã£ã¦ã‚‹â—‹â—‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã€`contexts/listing` ã«ç§»ã—ãŸã„ã€‚ç§»å‹•å…ˆã¨importä¿®æ­£æ–¹é‡ã‚’æ‰‹é †ã§å‡ºã—ã¦ã€ğŸ—ºï¸âœ¨

## ãƒ†ãƒ³ãƒ—ãƒ¬2ï¼šå…¥å£(index.ts)ã®å…¬é–‹ç‰©ã‚’çµã‚‹âœ‚ï¸

* ã€Œ`contexts/listing` ã®å¤–ã«å…¬é–‹ã™ã¹ãé–¢æ•°ãƒ»å‹ã ã‘ã‚’ `index.ts` ã«é›†ã‚ã¦ã€‚å…¬é–‹ã—ãªã„å€™è£œã‚‚ç†ç”±ã¤ãã§å‡ºã—ã¦ã€ğŸšªâœ…

## ãƒ†ãƒ³ãƒ—ãƒ¬3ï¼šsharedã«å…¥ã‚Œã¦ã„ã„ã‹åˆ¤å®šã•ã›ã‚‹âš–ï¸

* ã€Œã“ã® `Money` å‹ã‚’ shared ã«ç½®ãã¹ãï¼Ÿãã‚Œã¨ã‚‚ç‰¹å®šBCã«ç½®ãã¹ãï¼Ÿåˆ¤æ–­åŸºæº–ã¨ã€åˆ†ã‘ã‚‹ãªã‚‰ä»£æ¡ˆã‚‚å‡ºã—ã¦ã€ğŸ§ ğŸ’¡

---

## 10. ä»•ä¸Šã’ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆâœ…ğŸ‘€

* `src/contexts/<name>/index.ts` ãŒã‚ã‚‹ï¼ŸğŸšª
* ä»–BCã‹ã‚‰ã®importãŒ **å…¥å£çµŒç”±** ã«ãªã£ã¦ã‚‹ï¼ŸğŸ§­
* `../../..` ã®ç›¸å¯¾ãƒ‘ã‚¹ãŒå¢—ãˆã¦ãªã„ï¼ŸğŸ˜µâ€ğŸ’«
* shared ã«æ¥­å‹™èªå½™ï¼ˆä¾‹ï¼šOrder, User, Tradeï¼‰ãŒå¢—ãˆã¦ãªã„ï¼Ÿâš ï¸

---

## æ¬¡ç« ã®äºˆå‘ŠğŸ“®âœ¨

æ¬¡ã¯ã€Œå„BCã®å…¬é–‹APIï¼ˆå…¥å£ï¼‰ã‚’ã‚‚ã£ã¨ç¶ºéº—ã«æ±ºã‚ã‚‹ã€ã‚ˆğŸšªâœ¨ï¼ˆç¬¬30ç« ï¼‰

[1]: https://www.npmjs.com/package/typescript?utm_source=chatgpt.com "TypeScript"
[2]: https://www.typescriptlang.org/docs/handbook/release-notes/typescript-5-9.html?utm_source=chatgpt.com "Documentation - TypeScript 5.9"
[3]: https://www.typescriptlang.org/tsconfig/baseUrl.html?utm_source=chatgpt.com "TSConfig Option: baseUrl"
