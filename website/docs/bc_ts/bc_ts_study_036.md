# ç¬¬36ç«  çŠ¶æ…‹ï¼ˆã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼‰ã¨é·ç§»ã‚’æ˜æ–‡åŒ–ã™ã‚‹ğŸš¦ğŸ”

## 36.1 ã¾ãšçµè«–ï¼šçŠ¶æ…‹ã¨é·ç§»ã‚’æ›¸ã‘ã‚‹ã¨ã€ãƒã‚°ãŒæ¿€æ¸›ã™ã‚‹ğŸ›¡ï¸âœ¨

ã‚¢ãƒ—ãƒªãŒå£Šã‚Œã‚„ã™ã„åŸå› ã®ä¸Šä½ã«ã€Œ**ã„ã¾ä½•ã®çŠ¶æ…‹ãªã®ã‹æ›–æ˜§**ã€ãŒã‚ã‚Šã¾ã™ğŸ˜µâ€ğŸ’«
ãŸã¨ãˆã°ã€Œå–å¼•ãŒå®Œäº†ã—ãŸã®ã«ã€ã¾ã ç™ºé€ã§ãã¡ã‚ƒã†ã€ã¿ãŸã„ãªäº‹æ•…â€¦ã‚ã‚‹ã‚ã‚‹ã ã‚ˆã­ğŸ’¥

ãã“ã§ã“ã®ç« ã¯ã€**çŠ¶æ…‹ï¼ˆstatusï¼‰** ã¨ **é·ç§»ï¼ˆtransitionï¼‰** ã‚’å…ˆã«â€œæ–‡å­—ã§â€å›ºå®šã—ã¾ã™ğŸ“
ãã®ã†ãˆã§ **TypeScriptã§ç ´ã‚Œã«ããã™ã‚‹**ï¼ˆ= é–“é•ã£ãŸé·ç§»ã‚’æ›¸ãã«ããã™ã‚‹ï¼‰ã¨ã“ã‚ã¾ã§ã‚„ã‚‹ã‚ˆğŸš€
â€»TypeScriptå…¬å¼ã§ã‚‚ã€ŒUnionï¼ˆåˆä½µå‹ï¼‰ã€ã€Œçµã‚Šè¾¼ã¿ã€ã€Œç¶²ç¾…ãƒã‚§ãƒƒã‚¯ã€ã¿ãŸã„ãªè€ƒãˆæ–¹ãŒã€ã“ã†ã„ã†â€œæ¼ã‚Œé˜²æ­¢â€ã«åŠ¹ãã‚ˆã£ã¦èª¬æ˜ã•ã‚Œã¦ã‚‹ã‚ˆğŸ“šâœ¨ ([typescriptlang.org][1])

---

![ã‚¤ãƒ¡ãƒ¼ã‚¸](./picture/bc_ts_study_036_state_table.png)

## 36.2 é¡Œæï¼šå–å¼•ï¼ˆTradingï¼‰ã®çŠ¶æ…‹ã‚’ä½œã‚ã†ğŸ›ï¸ğŸ¤

å­¦å†…ãƒ•ãƒªãƒã®ã€Œå–å¼•ã€ã‚’ã€ã–ã£ãã‚Šã“ã†ã„ã†æµã‚Œã«ã™ã‚‹ã‚ˆğŸŒ¸

* å‡ºå“ã•ã‚ŒãŸğŸ“Œ
* è³¼å…¥ãŒç¢ºå®šã—ãŸğŸ§¾
* ç™ºé€ã—ãŸğŸ“¦
* å—ã‘å–ã‚Šç¢ºèªã—ã¦å®Œäº†ğŸ‰
  ï¼ˆé€”ä¸­ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã‚‚ã‚ã‚‹ğŸ˜¢ï¼‰

---

## 36.3 çŠ¶æ…‹ä¸€è¦§ã‚’â€œçŸ­ã„å˜èªâ€ã§æ±ºã‚ã‚‹ğŸ·ï¸âœ¨

ã¾ãšã¯çŠ¶æ…‹ï¼ˆã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼‰ã®å€™è£œã‚’ä¸¦ã¹ã‚‹ã‚ˆğŸ§ ğŸ’¡
ã“ã“ã§ã¯ã‚·ãƒ³ãƒ—ãƒ«ã«ã“ã®5ã¤ã«ã™ã‚‹ã­ğŸ‘‡

* `listed`ï¼šå‡ºå“ä¸­ğŸ“Œ
* `reserved`ï¼šè³¼å…¥è€…ç¢ºä¿ï¼ˆå–å¼•ä¸­ï¼‰ğŸ§¾
* `shipped`ï¼šç™ºé€æ¸ˆã¿ğŸ“¦
* `completed`ï¼šå–å¼•å®Œäº†ğŸ‰
* `canceled`ï¼šã‚­ãƒ£ãƒ³ã‚»ãƒ«ğŸ˜¢

ãƒã‚¤ãƒ³ãƒˆã¯ã“ã‚ŒğŸ‘‡

* **çŠ¶æ…‹åã¯ã€ŒUIã®æ–‡è¨€ã€ã˜ã‚ƒãªãã€Œãƒ‰ãƒ¡ã‚¤ãƒ³ã®æ„å‘³ã€**ã«å¯„ã›ã‚‹ğŸ§ 
* **çŠ¶æ…‹ã¯â€œäº’ã„ã«æ’ä»–çš„â€**ï¼ˆåŒæ™‚ã«2ã¤ã¯ãƒ€ãƒ¡ğŸ™…â€â™€ï¸ï¼‰

---

## 36.4 é·ç§»è¡¨ã‚’ä½œã‚‹ğŸ“‹ğŸš¦ï¼ˆã“ã‚ŒãŒæœ€å¼·ã®è¨­è¨ˆãƒ¡ãƒ¢ï¼‰

![ã‚¤ãƒ¡ãƒ¼ã‚¸](./picture/bc_ts_study_036_state_transition_matrix.png)

æ¬¡ã«ã€Œã©ã®çŠ¶æ…‹ã‹ã‚‰ã€ã©ã®æ“ä½œã§ã€ã©ã“ã¸è¡Œã‘ã‚‹ã‹ã€ã‚’è¡¨ã«ã™ã‚‹ã‚ˆğŸ“âœ¨
ï¼ˆã“ã®è¡¨ãŒã‚ã‚‹ã¨ã€å®Ÿè£…ãƒ»ãƒ†ã‚¹ãƒˆãƒ»ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒä¸€æ°—ã«ãƒ©ã‚¯ã«ãªã‚‹ğŸ’ªï¼‰

### âœ… é·ç§»è¡¨ï¼ˆä¾‹ï¼‰

* `listed`

  * `reserve`ï¼ˆè³¼å…¥ç¢ºå®šï¼‰â†’ `reserved`
  * `cancel`ï¼ˆå‡ºå“å–ã‚Šä¸‹ã’ï¼‰â†’ `canceled`
* `reserved`

  * `ship`ï¼ˆç™ºé€ï¼‰â†’ `shipped`
  * `cancel`ï¼ˆè³¼å…¥ã‚­ãƒ£ãƒ³ã‚»ãƒ«ï¼‰â†’ `canceled`
* `shipped`

  * `complete`ï¼ˆå—ã‘å–ã‚Šç¢ºèªï¼‰â†’ `completed`
* `completed`

  * ï¼ˆä½•ã‚‚ã§ããªã„ï¼‰ğŸ§˜â€â™€ï¸
* `canceled`

  * ï¼ˆä½•ã‚‚ã§ããªã„ï¼‰ğŸ§Š

ğŸ’¡ã‚ˆãã‚ã‚‹â€œæ±ºã‚å¿˜ã‚Œâ€ãƒã‚§ãƒƒã‚¯

* `shipped` ã‹ã‚‰ `cancel` ã§ãã‚‹ï¼Ÿï¼ˆè¿”é€ãƒ»è¿”é‡‘ã‚’æ‰±ã†ãªã‚‰åˆ¥çŠ¶æ…‹ãŒè¦ã‚‹ã‹ã‚‚ï¼‰
* `reserved` ã®ã¾ã¾æ”¾ç½®ã•ã‚ŒãŸã‚‰ï¼Ÿï¼ˆæœŸé™åˆ‡ã‚Œâ†’`listed`ã«æˆ»ã™ï¼Ÿåˆ¥ã«`expired`ä½œã‚‹ï¼Ÿï¼‰â³

> ã“ã®ç« ã§ã¯ã€Œæˆ»ã‚‰ãªã„ã€è¨­è¨ˆã§ã„ãã‚ˆï¼ˆåˆå¿ƒè€…å‘ã‘ã«äº‹æ•…ã‚’æ¸›ã‚‰ã™ãŸã‚ï¼‰ğŸ§¸âœ¨

---

## 36.5 çŠ¶æ…‹é·ç§»å›³ï¼ˆæ–‡å­—ã§OKï¼‰ğŸ—ºï¸ğŸ“Œ

æ‰‹æãã§ã‚‚ã€æ–‡å­—ã§ã‚‚OKğŸ™†â€â™€ï¸
æœ€å°ã¯ã“ã‚Œã§ååˆ†ã ã‚ˆğŸ‘‡

```text
listed â”€â”€ reserve â”€â”€â–¶ reserved â”€â”€ ship â”€â”€â–¶ shipped â”€â”€ complete â”€â”€â–¶ completed
   â”‚                      â”‚
   â””â”€â”€ cancel â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â””â”€â”€ cancel â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ canceled
```

```mermaid
stateDiagram-v2
    [*] --> listed: å‡ºå“
    listed --> reserved: è³¼å…¥ç¢ºå®š
    listed --> canceled: å–ã‚Šä¸‹ã’
    reserved --> shipped: ç™ºé€
    reserved --> canceled: è³¼å…¥ã‚­ãƒ£ãƒ³ã‚»ãƒ«
    shipped --> completed: å—å–ç¢ºèª
    completed --> [*]
    canceled --> [*]
```

---

## 36.6 TypeScriptã§ã€Œé–“é•ã£ãŸé·ç§»ã€ã‚’æ›¸ãã«ããã™ã‚‹ğŸ§©ğŸ”’

### æ–¹å¼Aï¼šã¾ãšã¯â€œstatusã ã‘â€ã‚’å®ˆã‚‹ï¼ˆæœ€å°ã§å¼·ã„ï¼‰ğŸ’ª

çŠ¶æ…‹ã‚’ **æ–‡å­—åˆ—Union** ã«ã—ã¦ã€é·ç§»ã‚’ **è¡¨ï¼ˆmapï¼‰** ã§å›ºå®šã™ã‚‹ã‚ˆğŸ—‚ï¸âœ¨
ï¼ˆã“ã®ã‚„ã‚Šæ–¹ã€åˆå¿ƒè€…ã§ã‚‚æ‰±ã„ã‚„ã™ã„ğŸ˜Šï¼‰

```ts
// 1) çŠ¶æ…‹ï¼ˆstatusï¼‰ã‚’Unionã§å›ºå®šã™ã‚‹
export type TradeStatus =
  | "listed"
  | "reserved"
  | "shipped"
  | "completed"
  | "canceled";

// 2) ã‚³ãƒãƒ³ãƒ‰ï¼ˆæ“ä½œï¼‰ã‚‚å›ºå®šã™ã‚‹
export type TradeCommandType =
  | "reserve"
  | "ship"
  | "complete"
  | "cancel";

// 3) é·ç§»è¡¨ã‚’ã€Œãƒ‡ãƒ¼ã‚¿ã€ã¨ã—ã¦å›ºå®šã™ã‚‹ï¼ˆãƒ«ãƒ¼ãƒ«ãŒè¦‹ãˆã‚‹ï¼ï¼‰
export const transitions = {
  listed:   { reserve: "reserved", cancel: "canceled" },
  reserved: { ship: "shipped",     cancel: "canceled" },
  shipped:  { complete: "completed" },
  completed:{},
  canceled: {},
} as const;
```

```mermaid
flowchart LR
    State[ç¾åœ¨ã®çŠ¶æ…‹] -- + --> Command[æ“ä½œ]
    Command -- "transitionsã‚’å‚ç…§" --> Allowed{è¨±å¯æ¸ˆã¿ï¼Ÿ}
    Allowed -- "YES" --> Next[æ¬¡ã®çŠ¶æ…‹ã¸]
    Allowed -- "NO" --> Error[ã‚¨ãƒ©ãƒ¼ / ç¦æ­¢é·ç§»]
```

ã“ã“ã§ã•ã‚‰ã«ä¸€æ®µå¼·ãã™ã‚‹ãªã‚‰ã€`satisfies` ã‚’ä½¿ã£ã¦
ã€Œå¤‰ãªã‚­ãƒ¼ã‚’æ›¸ã„ãŸã‚‰ã‚¨ãƒ©ãƒ¼ã€ã«ã§ãã‚‹ã‚ˆğŸ§ âœ¨ï¼ˆTypeScriptå…¬å¼ã§ã‚‚ç´¹ä»‹ã•ã‚Œã¦ã‚‹æ›¸ãæ–¹ã ã‚ˆï¼‰ ([typescriptlang.org][2])

```ts
type TransitionTable = {
  [S in TradeStatus]: Partial<Record<TradeCommandType, TradeStatus>>;
};

export const transitions2 = {
  listed:   { reserve: "reserved", cancel: "canceled" },
  reserved: { ship: "shipped",     cancel: "canceled" },
  shipped:  { complete: "completed" },
  completed:{},
  canceled: {},
} as const satisfies TransitionTable;
```

`satisfies` ã®è‰¯ã„ã¨ã“ã‚ğŸ‘‡

* ã€Œå‹ãƒã‚§ãƒƒã‚¯ã¯ã™ã‚‹ã€
* ã§ã‚‚ã€Œå€¤ã®å‹ï¼ˆç‹­ã„å‹ï¼‰ã€ã¯ãªã‚‹ã¹ãä¿ã¤âœ¨
  ã“ã®æ€§è³ªãŒâ€œè¨­å®šè¡¨â€ã¿ãŸã„ãªãƒ‡ãƒ¼ã‚¿ã«ã‚ã¡ã‚ƒãã¡ã‚ƒç›¸æ€§ã„ã„ã‚ˆğŸ§¸ğŸ’– ([typescriptlang.org][2])

---

### æ–¹å¼Bï¼šçŠ¶æ…‹ã”ã¨ã«å‹ã‚’åˆ†ã‘ã¦ã€Œã‚ã‚Šå¾—ãªã„ãƒ‡ãƒ¼ã‚¿ã€ã‚’æŒã¦ãªãã™ã‚‹ğŸ§ ğŸ§±

æ¬¡ã¯ä¸€æ®µãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—ğŸŒˆ
çŠ¶æ…‹ã«ã‚ˆã£ã¦ã€ŒæŒã£ã¦ã„ã„æƒ…å ±ã€ãŒå¤‰ã‚ã‚‹ãªã‚‰ã€**çŠ¶æ…‹ã”ã¨ã«å‹ã‚’åˆ†ã‘ã‚‹**ã®ãŒå¼·ã„ã‚ˆğŸ’ªâœ¨

ä¾‹ï¼š`reserved` ã ã‘ãŒ `buyerId` ã‚’æŒã¤ã€ã¿ãŸã„ãªæ„Ÿã˜ğŸ‘‡

```ts
type TradeId = string;
type UserId = string;

type ListedTrade = {
  id: TradeId;
  status: "listed";
  itemId: string;
};

type ReservedTrade = {
  id: TradeId;
  status: "reserved";
  itemId: string;
  buyerId: UserId;       // â˜… reserved ã«ãªã£ãŸã‚‰å¿…é ˆ
  reservedAt: Date;      // â˜… reserved ã«ãªã£ãŸã‚‰å¿…é ˆ
};

type ShippedTrade = {
  id: TradeId;
  status: "shipped";
  itemId: string;
  buyerId: UserId;
  shippedAt: Date;       // â˜… shipped ã«ãªã£ãŸã‚‰å¿…é ˆ
};

type CompletedTrade = {
  id: TradeId;
  status: "completed";
  itemId: string;
  buyerId: UserId;
  completedAt: Date;
};

type CanceledTrade = {
  id: TradeId;
  status: "canceled";
  itemId: string;
  canceledAt: Date;
  reason?: string;
};

export type Trade =
  | ListedTrade
  | ReservedTrade
  | ShippedTrade
  | CompletedTrade
  | CanceledTrade;
```

ã“ã®å½¢ã«ã™ã‚‹ã¨å¬‰ã—ã„ã“ã¨ğŸ‘‡ğŸ

* `listed` ã®ã¨ãã« `buyerId` ã‚’ã†ã£ã‹ã‚Šå‚ç…§â€¦ãŒã§ããªããªã‚‹ğŸ™…â€â™€ï¸
* ã€Œä»Šã“ã®çŠ¶æ…‹ãªã‚‰å¿…ãšã‚ã‚‹ã€ã¯ **å‹ã§ä¿è¨¼**ã§ãã‚‹âœ…
* â€œçŠ¶æ…‹ã”ã¨ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³â€ã‚‚æ›¸ãã‚„ã™ã„âœ¨

---

## 36.7 ç¶²ç¾…ãƒã‚§ãƒƒã‚¯ï¼ˆexhaustive checkï¼‰ã§ã€Œå‡¦ç†æ¼ã‚Œã€ã‚’æ½°ã™âœ…ğŸ’¥

çŠ¶æ…‹ã‚„ã‚³ãƒãƒ³ãƒ‰ãŒå¢—ãˆãŸã¨ãã«æ€–ã„ã®ãŒã€Œswitchã®æ›¸ãå¿˜ã‚Œã€ğŸ˜±
ãã“ã§ **`never` ã‚’ä½¿ã£ãŸç¶²ç¾…ãƒã‚§ãƒƒã‚¯**ãŒåŠ¹ãã‚ˆğŸ§¯âœ¨
TypeScriptå…¬å¼Handbookã§ã‚‚ã€`assertNever` çš„ãªã‚„ã‚Šæ–¹ãŒç´¹ä»‹ã•ã‚Œã¦ã‚‹ã‚ˆğŸ“š ([typescriptlang.org][3])

```ts
function assertNever(x: never): never {
  throw new Error("Unexpected value: " + x);
}

type Status = "listed" | "reserved" | "shipped";

function label(status: Status): string {
  switch (status) {
    case "listed":
      return "å‡ºå“ä¸­";
    case "reserved":
      return "å–å¼•ä¸­";
    case "shipped":
      return "ç™ºé€æ¸ˆã¿";
    default:
      return assertNever(status); // â˜… ã“ã“ãŒæ¼ã‚Œæ¤œçŸ¥ãƒã‚¤ãƒ³ãƒˆ
  }
}
```

ã‚‚ã— `Status` ã« `"completed"` ã‚’è¿½åŠ ã—ãŸã®ã« `switch` ã«æ›¸ã‹ãªã‹ã£ãŸã‚‰ã€ã“ã“ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã«ãªã£ã¦åŠ©ã‹ã‚‹ã‚ˆğŸ§¸âœ¨

---

## 36.8 ã‚ã‚ŠãŒã¡ãªè½ã¨ã—ç©´ãƒˆãƒƒãƒ—5ğŸ˜µâ€ğŸ’«âš ï¸

5. **ä¾‹å¤–ã‚’æ¡ã‚Šã¤ã¶ã™**ï¼ˆç¦æ­¢é·ç§»ã¯ãƒ­ã‚°ã«æ®‹ã—ã¦æ°—ã¥ã‘ã‚‹ã‚ˆã†ã«ã™ã‚‹ğŸ“Œï¼‰

```mermaid
mindmap
  root((çŠ¶æ…‹è¨­è¨ˆã®ã‚³ãƒ„))
    çŠ¶æ…‹åã¯ãƒ‰ãƒ¡ã‚¤ãƒ³èª
      UIæ–‡è¨€ã«ä¾å­˜ã—ãªã„
    æ’ä»–çš„ãªå®šç¾©
      çŠ¶æ…‹ã¯å¿…ãš1ã¤
    é·ç§»ã®æ˜æ–‡åŒ–
      ã‚ã‚Šå¾—ãªã„é·ç§»ã‚’å°å°
    å‹ã§å®ˆã‚‹
      Unionå‹
      Exhaustive Check
    ä¸è¦ãªçŠ¶æ…‹ã‚’å‰Šã‚‹
      ã‚·ãƒ³ãƒ—ãƒ«ã«ä¿ã¤
```

---

## 36.9 ãƒŸãƒ‹æ¼”ç¿’ğŸ®âœï¸ï¼ˆ15ã€œ25åˆ†ï¼‰

### æ¼”ç¿’1ï¼šçŠ¶æ…‹ã‚’1ã¤å¢—ã‚„ã—ã¦ã¿ã‚ˆã†â•ğŸ§©

`reserved` ã®æ”¾ç½®å¯¾ç­–ã§ `expired`ï¼ˆæœŸé™åˆ‡ã‚Œï¼‰ã‚’è¿½åŠ ã—ãŸã„ï¼â³
æ¬¡ã‚’ã‚„ã£ã¦ã­ğŸ‘‡

* çŠ¶æ…‹ä¸€è¦§ã« `expired` ã‚’è¿½åŠ 
* é·ç§»è¡¨ã«ã€Œ`reserved` â†’ `expired`ã€ã‚’è¿½åŠ ï¼ˆæ“ä½œåã¯ `expire`ï¼‰
* `expired` ã‹ã‚‰ã¯ä½•ã‚‚ã§ããªã„ï¼ˆä»Šå›ã¯å›ºå®šğŸ§Šï¼‰

âœ…ã‚´ãƒ¼ãƒ«ï¼š**â€œå‹ã¨é·ç§»è¡¨â€ãŒã‚ºãƒ¬ãªã„çŠ¶æ…‹**ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒé€šã‚‹ã“ã¨âœ¨

---

### æ¼”ç¿’2ï¼šçŠ¶æ…‹ã”ã¨ã«ã€ŒæŒã¤ã¹ãæƒ…å ±ã€ã‚’å¢—ã‚„ã™ğŸ§ºâœ¨

`shipped` ã«ãªã£ãŸã‚‰ `trackingNumber`ï¼ˆè¿½è·¡ç•ªå·ï¼‰ã‚’å¿…é ˆã«ã—ãŸã„ğŸ“¦ğŸ”
æ–¹å¼Bã®å‹åˆ†ã‘ã§ã€`ShippedTrade` ã« `trackingNumber: string` ã‚’è¿½åŠ ã—ã¦ã¿ã‚ˆã†ï¼

âœ…ã‚´ãƒ¼ãƒ«ï¼š`trackingNumber` ãŒç„¡ã„ `shipped` ã‚’ä½œã‚Œãªã„ã‚ˆã†ã«ã™ã‚‹ğŸ›¡ï¸

---

## 36.10 AIã«é ¼ã‚‹ã¨ãã®è³ªå•ãƒ†ãƒ³ãƒ—ãƒ¬ğŸ¤–ğŸ’¬

ï¼ˆãã®ã¾ã¾è²¼ã£ã¦OKã ã‚ˆâœ¨ï¼‰

1. é·ç§»è¡¨ã¥ãã‚Š

* ã€Œã“ã®çŠ¶æ…‹ä¸€è¦§ã¨æ“ä½œä¸€è¦§ã‹ã‚‰ã€ç¦æ­¢é·ç§»ãŒèµ·ãã«ãã„é·ç§»è¡¨ã‚’ææ¡ˆã—ã¦ã€‚ä¾‹å¤–ã‚±ãƒ¼ã‚¹ã‚‚3ã¤æŒ™ã’ã¦ã€‚ã€

2. TypeScriptå‹ã®ç”Ÿæˆ

* ã€Œã“ã®é·ç§»è¡¨ã‚’ã‚‚ã¨ã«ã€discriminated unionã§ `Trade` å‹ï¼ˆçŠ¶æ…‹ã”ã¨ã®å¿…é ˆãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ä»˜ãï¼‰ã‚’ææ¡ˆã—ã¦ã€‚ã€

3. ç¶²ç¾…ãƒã‚§ãƒƒã‚¯ã®ç¢ºèª

* ã€Œã“ã® `switch` æ–‡ã«ç¶²ç¾…ãƒã‚§ãƒƒã‚¯ï¼ˆneverï¼‰ã‚’å…¥ã‚Œã¦ã€æ¼ã‚ŒãŸã¨ãã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹å½¢ã«ç›´ã—ã¦ã€‚ã€

---

## 36.11 ã¾ã¨ã‚ğŸâœ¨

* **çŠ¶æ…‹ï¼ˆstatusï¼‰** ã¯ã€Œã„ã¾ä½•ã®ãƒ•ã‚§ãƒ¼ã‚ºã‹ã€ğŸš¦
* **é·ç§»ï¼ˆtransitionï¼‰** ã¯ã€Œã©ã®æ“ä½œã§ã€ã©ã“ã¸é€²ã‚ã‚‹ã‹ã€ğŸ”
* ã¾ãšã¯ **çŠ¶æ…‹ä¸€è¦§ â†’ é·ç§»è¡¨ â†’ é·ç§»å›³ï¼ˆæ–‡å­—ï¼‰** ã®é †ã«å›ºã‚ã‚‹ğŸ“
* TypeScriptã§ã¯ **Unionãƒ»çµã‚Šè¾¼ã¿ãƒ»ç¶²ç¾…ãƒã‚§ãƒƒã‚¯ï¼ˆneverï¼‰** ãŒâ€œæ¼ã‚Œé˜²æ­¢â€ã«åŠ¹ãğŸ’ªâœ¨ ([typescriptlang.org][1])

[1]: https://www.typescriptlang.org/docs/handbook/2/narrowing.html?utm_source=chatgpt.com "Documentation - Narrowing"
[2]: https://www.typescriptlang.org/docs/handbook/release-notes/typescript-4-9.html?utm_source=chatgpt.com "Documentation - TypeScript 4.9"
[3]: https://www.typescriptlang.org/docs/handbook/unions-and-intersections.html?utm_source=chatgpt.com "Handbook - Unions and Intersection Types"
