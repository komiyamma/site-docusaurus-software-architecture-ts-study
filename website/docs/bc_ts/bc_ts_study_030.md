# ç¬¬30ç«  å„BCã®â€œå…¬é–‹APIâ€ã‚’æ±ºã‚ã‚‹ğŸšªâœ¨

## ã­ã‚‰ã„ğŸ¯

* **å¢ƒç•Œã®å¤–ã‹ã‚‰è§¦ã£ã¦ã„ã„â€œå…¥å£ï¼ˆçª“å£ï¼‰â€ã‚’æœ€å°ã«ã™ã‚‹**ğŸšªğŸ›¡ï¸
* ã€Œä»–BCã‹ã‚‰è§¦ã£ã¦ã„ã„ã®ã¯ã‚³ã‚³ã ã‘ï¼ã€ã‚’**ã‚³ãƒ¼ãƒ‰ã§å›ºå®š**ã™ã‚‹ğŸ“ŒğŸ”’
* å¾Œã‹ã‚‰äººãŒå¢—ãˆã¦ã‚‚ã€æ©Ÿèƒ½ãŒå¢—ãˆã¦ã‚‚ã€**å¢ƒç•ŒãŒå´©ã‚Œã«ãã„å½¢**ã«ã™ã‚‹ğŸ—ï¸âœ¨

> ã¡ãªã¿ã«æœ¬æ—¥æ™‚ç‚¹ã®TypeScriptå®‰å®šç‰ˆãƒ©ã‚¤ãƒ³ã¯ **5.9ç³»ï¼ˆnpmã®latestã¯ 5.9.3ï¼‰**ã ã‚ˆğŸ£ğŸ’» ([NPM][1])
> â€œãƒã‚¤ãƒ†ã‚£ãƒ–ç‰ˆãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼â€ã‚‚å…¬é–‹ã•ã‚Œã¦ã„ã¦ã€å°†æ¥ã‚‚ã£ã¨é€Ÿããªã‚‹æµã‚Œã‚‚é€²ã‚“ã§ã‚‹ã‚ˆğŸš€ğŸŒ± ([Microsoft for Developers][2])

---

## 0. å…¬é–‹APIã£ã¦ãªã«ï¼ŸğŸ§¸ğŸ’¡ï¼ˆãŸã¨ãˆã§è¦šãˆã‚‹ï¼‰

![ã‚¤ãƒ¡ãƒ¼ã‚¸](./picture/bc_ts_study_030_public_api.png)

Bounded Contextï¼ˆBCï¼‰ã‚’ã€ŒãŠéƒ¨å±‹ğŸ ã€ã ã¨ã™ã‚‹ã¨â€¦

* **å…¬é–‹API**ï¼šç„é–¢ğŸšªï¼ˆæ¥å®¢ãŒå…¥ã£ã¦ã„ã„å ´æ‰€ï¼‰
* **å†…éƒ¨å®Ÿè£…**ï¼šå°æ‰€ãƒ»å¯å®¤ãƒ»æŠ¼å…¥ã‚ŒğŸ§ºï¼ˆå®¶æ—ã—ã‹å…¥ã‚‰ãªã„å ´æ‰€ï¼‰

ç„é–¢ãŒåºƒã™ãã‚‹ã¨â€¦
ã€Œå‹æ‰‹ã«å†·è”µåº«ã‚ã‘ã‚‰ã‚Œã‚‹ğŸ¥¶ã€ã€Œå¯å®¤ã«å…¥ã‚‰ã‚Œã‚‹ğŸ˜±ã€ã¿ãŸã„ãªäº‹æ•…ãŒèµ·ãã‚‹ã‚ˆã­ã€‚

ã ã‹ã‚‰ **â€œå¤–ã«è¦‹ã›ã‚‹é¢â€ã‚’è¨­è¨ˆã™ã‚‹**ã®ãŒå…¬é–‹APIã®ä»•äº‹ã ã‚ˆğŸ§¼âœ¨

---

## 1. ç¬¬29ç« ã®ãƒ•ã‚©ãƒ«ãƒ€åˆ†ã‘ã‹ã‚‰ã€æ¬¡ã«ã‚„ã‚‹ã“ã¨ğŸ“â¡ï¸ğŸšª

å‰ç« ã§ã€ŒBCã”ã¨ã«ãƒ•ã‚©ãƒ«ãƒ€ã‚’åˆ†ã‘ãŸã€ã ã‘ã ã¨ã€ã¾ã ã“ã†ã„ã†äº‹æ•…ãŒèµ·ããŒã¡ğŸ‘‡ğŸ˜µ

* `contexts/trading/domain/...` ã‚’ä»–BCãŒç›´æ¥importã—ã¡ã‚ƒã†ğŸ˜±
* Entityï¼ˆå†…éƒ¨ãƒ¢ãƒ‡ãƒ«ï¼‰ãŒå¤–ã«æ¼ã‚Œã¦ã€ä¾å­˜ãŒçµ¡ã¾ã‚‹ğŸ•¸ï¸
* ä»•æ§˜å¤‰æ›´ã§ä¸€æ°—ã«å½±éŸ¿ç¯„å›²ãŒåºƒãŒã‚‹ğŸ’¥

ãã“ã§ã“ã®ç« ã§ã¯ã€**â€œã©ã“ã‹ã‚‰å¤–ãŒå…¥ã‚Œã‚‹ã‹â€ã‚’å›ºå®š**ã™ã‚‹ã‚ˆğŸ”’âœ¨

---

## 2. å…¬é–‹APIã«å…¥ã‚Œã¦OKãªã‚‚ã®ï¼ãƒ€ãƒ¡ãªã‚‚ã®âœ…âŒ

ã¾ãšã¯è¶…ã–ã£ãã‚ŠåŸºæº–ğŸ‘‡ï¼ˆè¿·ã£ãŸã‚‰ã‚³ãƒ¬ã§OKğŸ§­ï¼‰

```mermaid
flowchart TD
    All[BCå†…éƒ¨ã®å…¨æ©Ÿèƒ½] --> Filter{å¤–ã«å‡ºã™ï¼Ÿ}
    Filter -- "å¿…è¦æœ€å°é™" --> Public[å…¬é–‹API / ç„é–¢ğŸšª]
    Filter -- "è©³ç´°ãƒ»ãƒ«ãƒ¼ãƒ«" --> Private[å†…éƒ¨å®Ÿè£… / éš ã™ğŸ”’]
    
    subgraph Inside [ç„é–¢ã®å‘ã“ã†å´]
        Private
    end
```

### âœ… å…¥ã‚Œã¦OKï¼ˆå¤–ãŒä½¿ã†ãŸã‚ã«å¿…è¦ï¼‰

* **ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ï¼ˆã‚¢ãƒ—ãƒªå±¤ï¼‰ã®é–¢æ•°**ï¼šä¾‹ï¼‰`purchaseItem()`ğŸ›’ã€`createListing()`ğŸ›ï¸
* **å¢ƒç•Œã‚’è¶Šãˆã‚‹DTOï¼ˆé‹æ¬ç”¨ã®å‹ï¼‰**ï¼šä¾‹ï¼‰`ListingSummaryDto`ğŸ“¦
* **å…¬é–‹ç”¨ã‚¨ãƒ©ãƒ¼**ï¼šä¾‹ï¼‰`NotFoundError`ã€`ValidationError`âš ï¸
* **å…¬é–‹ã‚¤ãƒ™ãƒ³ãƒˆï¼ˆã‚ã‚Œã°ï¼‰**ï¼šä¾‹ï¼‰`TradingCompleted`ğŸ‰ï¼ˆã€Œä»–BCã«é€šçŸ¥ã—ã¦ã„ã„æƒ…å ±ã€ã ã‘ï¼‰

### âŒ ã§ãã‚‹ã ã‘å‡ºã•ãªã„ï¼ˆå†…éƒ¨ã‚’å®ˆã‚‹ï¼‰

* Entity / Value Objectï¼ˆBCå†…ã®â€œæ„å‘³ã®ä¸­å¿ƒâ€ï¼‰ğŸ’ğŸ§±
* Repositoryå®Ÿè£…ã‚„DBå‹ã€ORMã®å‹ğŸ—„ï¸
* â€œã¤ã„ä¾¿åˆ©ã ã‹ã‚‰â€ã®å†…éƒ¨ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°ğŸ”§
* å†…éƒ¨ã®çŠ¶æ…‹ãƒã‚·ãƒ³ã‚„ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚µãƒ¼ãƒ“ã‚¹ã®è©³ç´°ğŸš¦

ãƒã‚¤ãƒ³ãƒˆã¯ã“ã‚ŒğŸ‘‡
**ã€Œå¤–ã«ã¨ã£ã¦â€œå¿…è¦â€ã‹ï¼Ÿã€ã‚ˆã‚Šã€ã€Œå¤–ã«å‡ºã™ã¨â€œç¸›ã‚‰ã‚Œã‚‹â€ã‹ï¼Ÿã€**ã§åˆ¤æ–­ã™ã‚‹ã¨å¤±æ•—ã—ã«ãã„ã‚ˆğŸª¢ğŸ˜Œ

---

## 3. å…¬é–‹APIã®å½¢ã¯ã€Œ1ã¤ã®å…¥å£ãƒ•ã‚¡ã‚¤ãƒ«ã€ã«ã¾ã¨ã‚ã‚‹ğŸ“®âœ¨

ãŠã™ã™ã‚ã¯ã€å„BCã« **`public`ï¼ˆã¾ãŸã¯ `index.ts`ï¼‰ã‚’1ã¤ç½®ã**ã‚„ã‚Šæ–¹ã ã‚ˆğŸ“„

ä¾‹ï¼š`Listing`ï¼ˆå‡ºå“ï¼‰BCã®æ§‹æˆã‚¤ãƒ¡ãƒ¼ã‚¸ğŸ‘‡

```txt
src/
  contexts/
    listing/
      application/
        createListing.ts
        getListingSummary.ts
      domain/
        Listing.ts
        ListingId.ts
        Money.ts
      infra/
        ListingRepositoryInMemory.ts
      public/
        index.ts          â† â˜…ã“ã“ãŒå…¬é–‹APIï¼ˆç„é–¢ğŸšªï¼‰
        dtos.ts
        errors.ts
```

### ã­ã‚‰ã„ğŸ§ 

* å¤–éƒ¨ã¯ **`contexts/listing/public` ã ã‘**è¦‹ã‚Œã°ã„ã„ğŸ‘€âœ¨
* å†…éƒ¨ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç›´æ¥importã—ãªãã¦æ¸ˆã‚€ğŸ™…â€â™€ï¸
* ä½•ã‚’å…¬é–‹ã—ã¦ã‚‹ã‹ãŒä¸€ç›®ã§åˆ†ã‹ã‚‹ğŸ”

---

## 4. å®Ÿè£…ã—ã¦ã¿ã‚ˆã†ğŸ› ï¸âœ¨ï¼ˆListing BCã®å…¬é–‹APIã‚µãƒ³ãƒ—ãƒ«ï¼‰

ã“ã“ã‹ã‚‰ã€Œå­¦å†…ãƒ•ãƒªãƒğŸ›ï¸ã€ä¾‹ã§ã€æœ€å°ã®å…¬é–‹APIã‚’ä½œã‚‹ã‚ˆã€œğŸ˜Š

### 4-1) DTOï¼ˆå¤–ã«æ¸¡ã™å‹ï¼‰ã‚’ä½œã‚‹ğŸ“¦

ã€Œãƒ‰ãƒ¡ã‚¤ãƒ³ã®ä¸­å¿ƒï¼ˆEntityï¼‰ã€ã‚’å¤–ã«å‡ºã™ä»£ã‚ã‚Šã«ã€**é‹æ¬ç”¨ã®å‹**ã‚’ç”¨æ„ã™ã‚‹ã‚ˆğŸššâœ¨

```ts
// src/contexts/listing/public/dtos.ts

export type ListingId = string;

export type ListingSummaryDto = {
  id: ListingId;
  title: string;
  priceYen: number;
  sellerDisplayName: string;
  status: "draft" | "published" | "sold";
};

export type CreateListingCommand = {
  title: string;
  priceYen: number;
  sellerId: string;
};
```

ã‚³ãƒ„ğŸ’¡

* `status`ã¿ãŸã„ãªæ–‡å­—åˆ—ãƒ¦ãƒ‹ã‚ªãƒ³ã¯ **å¤–ã«è¦‹ã›ã¦ã‚‚å®‰å…¨**ãªã“ã¨ãŒå¤šã„ã‚ˆğŸ™‚
* å†…éƒ¨ã® `Money` ãªã©ã®Value Objectã¯å¤–ã«å‡ºã•ãªã„ï¼ˆDTOã«å¤‰æ›ï¼‰ğŸª™â¡ï¸ğŸ”¢

```mermaid
flowchart LR
    E["Entity / Model<br/>(å†…éƒ¨ã®å‹)"] -- "å¤‰æ›<br/>Translation" --> D["DTO<br/>(å¤–ã«é…ã‚‹å‹)"]
    D -- "æä¾›" --> Ext["ä»–BC / UI<br/>(å¤–éƒ¨åˆ©ç”¨å´)"]
    
    subgraph Guard [å¢ƒç•Œã®å®ˆã‚Š]
        E
        D
    end
```

---

### 4-2) å…¬é–‹ã‚¨ãƒ©ãƒ¼ã‚’ä½œã‚‹âš ï¸

å…¬é–‹APIã¯ã€Œå¤±æ•—ã®å½¢ã€ã‚‚æ±ºã‚ã‚‹ã¨è¦ªåˆ‡ã ã‚ˆğŸ§¸âœ¨

```ts
// src/contexts/listing/public/errors.ts

export class ValidationError extends Error {
  constructor(message: string) {
    super(message);
    this.name = "ValidationError";
  }
}

export class NotFoundError extends Error {
  constructor(message: string) {
    super(message);
    this.name = "NotFoundError";
  }
}
```

---

### 4-3) ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ï¼ˆã‚¢ãƒ—ãƒªå±¤ï¼‰ã‚’å…¬é–‹ã™ã‚‹ğŸ®âœ¨

å¤–ãŒå‘¼ã³ãŸã„ã®ã¯ã ã„ãŸã„ã‚³ã‚³ï¼
ã€Œå‡ºå“ã‚’ä½œã‚‹ã€ã€Œä¸€è¦§ã«å‡ºã™ã€ã€Œæ¦‚è¦ã‚’å–å¾—ã€ã¿ãŸã„ãªå…¥å£ã ã‚ˆğŸ“®

```ts
// src/contexts/listing/application/createListing.ts
import { ValidationError } from "../public/errors";
import type { CreateListingCommand, ListingId } from "../public/dtos";

export async function createListing(cmd: CreateListingCommand): Promise<ListingId> {
  if (!cmd.title || cmd.title.length < 3) {
    throw new ValidationError("title ã¯3æ–‡å­—ä»¥ä¸Šã«ã—ã¦ã­ğŸ“");
  }
  if (cmd.priceYen <= 0) {
    throw new ValidationError("priceYen ã¯1å††ä»¥ä¸Šã«ã—ã¦ã­ğŸ’°");
  }

  // ã“ã“ã§ domain ã‚’çµ„ã¿ç«‹ã¦ãŸã‚Š repository ã«ä¿å­˜ã—ãŸã‚Šã™ã‚‹ï¼ˆè©³ç´°ã¯å†…éƒ¨ï¼‰
  const newId = crypto.randomUUID();
  return newId;
}
```

ã“ã“ã§å¤§äº‹ãªã®ã¯ğŸ‘‡

* å¼•æ•°ã‚‚æˆ»ã‚Šå€¤ã‚‚ **DTOï¼ˆã¾ãŸã¯ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–ï¼‰ä¸­å¿ƒ**ğŸ§¼
* `domain/Listing.ts` ã‚’å¤–ã«è¦‹ã›ãªã„ğŸ›¡ï¸

---

### 4-4) å…¬é–‹APIï¼ˆç„é–¢ğŸšªï¼‰ã‚’1ãƒ•ã‚¡ã‚¤ãƒ«ã«é›†ç´„ã™ã‚‹ğŸ“„âœ¨

æœ€å¾Œã«â€œå…¥å£ãƒ•ã‚¡ã‚¤ãƒ«â€ã‚’ä½œã‚‹ã‚ˆï¼

```ts
// src/contexts/listing/public/index.ts
export type { ListingId, ListingSummaryDto, CreateListingCommand } from "./dtos";
export { ValidationError, NotFoundError } from "./errors";

export { createListing } from "../application/createListing";
// export { getListingSummary } from "../application/getListingSummary"; ã¿ãŸã„ã«å¢—ã‚„ã—ã¦ã„ãâœ¨
```

ã“ã‚Œã§å¤–éƒ¨ã¯ã“ã†å‘¼ã¹ã‚‹ğŸ‘‡ğŸ˜Š

```ts
import { createListing, type CreateListingCommand } from "./contexts/listing/public";

const cmd: CreateListingCommand = {
  title: "ä½¿ã‚ãªããªã£ãŸå‚è€ƒæ›¸ğŸ“š",
  priceYen: 800,
  sellerId: "user-123",
};

const id = await createListing(cmd);
console.log(id);
```

---

## 5. å…¬é–‹APIã‚’è¨­è¨ˆã™ã‚‹ã¨ãã®â€œã‚ˆãã‚ã‚‹å¤±æ•—â€ã‚ã‚‹ã‚ã‚‹ğŸ˜‡â¡ï¸ğŸ˜±

### å¤±æ•—â‘ ï¼šEntityã‚’ãã®ã¾ã¾exportã—ã¡ã‚ƒã†ğŸ§±ğŸ’¥

* ä¾¿åˆ©ã ã‘ã©ã€å¤–ãŒEntityã«ä¾å­˜ã—ã¦ã—ã¾ã†
* ä»•æ§˜å¤‰æ›´ï¼ˆãƒ—ãƒ­ãƒ‘ãƒ†ã‚£è¿½åŠ /å‰Šé™¤ï¼‰ã§å¤–ãŒå£Šã‚Œã‚‹

ğŸ‘‰ å¯¾ç­–ï¼š**å¤–ã¯DTOã€å†…éƒ¨ã¯ãƒ‰ãƒ¡ã‚¤ãƒ³**ï¼ˆç¿»è¨³ã—ã¦æ¸¡ã™ï¼‰ğŸ“¦ğŸ›¡ï¸

### å¤±æ•—â‘¡ï¼šå…¬é–‹APIãŒå¢—ãˆã™ãã‚‹ğŸŒ€

* å°ã•ã„ãƒ˜ãƒ«ãƒ‘ãƒ¼ã¾ã§å…¬é–‹ã—ã¦ã€Œä½•ãŒæ­£è¦ãƒ«ãƒ¼ãƒˆï¼Ÿã€ã£ã¦è¿·å­ã«ãªã‚‹ğŸ§­ğŸ˜µ

ğŸ‘‰ å¯¾ç­–ï¼šå…¬é–‹APIã¯ **ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ä¸­å¿ƒ**ã«ã™ã‚‹ğŸ®âœ¨
ï¼ˆCRUDã®â€œä¾¿åˆ©é–¢æ•°â€ã‚’å…¬é–‹ã—ã™ããªã„ğŸ™…â€â™€ï¸ï¼‰

### å¤±æ•—â‘¢ï¼šå¤–ãŒå†…éƒ¨ãƒ•ã‚©ãƒ«ãƒ€ã‚’ç›´æ¥importã™ã‚‹ğŸ“ğŸš«

* ã€Œä¸€ç¬ã ã‘â€¦ã€ãŒç©ã¿é‡ãªã£ã¦å¢ƒç•ŒãŒæº¶ã‘ã‚‹ğŸ« 

ğŸ‘‰ å¯¾ç­–ï¼šæ¬¡ã®ç« ï¼ˆä¾å­˜ãƒ«ãƒ¼ãƒ«ï¼‰ã§å¼·ã‚ã«ç¸›ã‚‹ã‚ˆğŸ“ğŸ”’
ï¼ˆã“ã®ç« ã§ã¯â€œç„é–¢ã‚’ä½œã‚‹â€ã¨ã“ã‚ã¾ã§ï¼ï¼‰

---

## 6. ã‚‚ã£ã¨å¼·ãå®ˆã‚ŠãŸã„äººå‘ã‘ï¼špackage.jsonã®exportsã§â€œå…¥å£ã—ã‹å‡ºã•ãªã„â€ğŸ“¦ğŸ”’

ã‚‚ã—BCã‚’ã€Œãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã£ã½ãã€æ‰±ã†ãªã‚‰ã€**`package.json` ã® `exports`**ã§å…¬é–‹å…¥å£ã‚’çµã‚Œã‚‹ã‚ˆğŸšªâœ¨
Node.jsã§ã¯ `"main"` ã¨ `"exports"` ãŒã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆã‚’å®šç¾©ã§ãã‚‹ã‚“ã ğŸ“Œ ([Node.js][3])

ï¼ˆã“ã“ã¯ã‚„ã‚„ä¸Šç´šğŸ”°â¡ï¸ğŸ§ ãªã®ã§ã€æœ€åˆã¯ ESLintãƒ«ãƒ¼ãƒ«é‹ç”¨ã§ã‚‚OKã ã‚ˆğŸ™†â€â™€ï¸ï¼‰

---

## 7. ãƒŸãƒ‹æ¼”ç¿’âœï¸âœ¨ï¼ˆ10ã€œ15åˆ†ï¼‰

### æ¼”ç¿’Aï¼šå…¬é–‹APIã‚’â€œ3ã¤ã ã‘â€é¸ã¶ğŸ¯

æ¬¡ã®BCã‚’æƒ³å®šã—ã¦ã€ãã‚Œãã‚Œã€Œå¤–ã«å…¬é–‹ã™ã‚‹é–¢æ•°ã‚’3ã¤ã ã‘ã€æ±ºã‚ã¦ã­ğŸ‘‡

* Listingï¼ˆå‡ºå“ï¼‰ğŸ›ï¸
* Tradingï¼ˆå–å¼•ï¼‰ğŸ§¾
* Shippingï¼ˆé…é€ï¼‰ğŸ“¦

ãƒ’ãƒ³ãƒˆğŸ’¡

* ã€Œç”»é¢ã‹ã‚‰å‘¼ã°ã‚Œãã†ã€ã€Œä»–BCãŒå¿…è¦ãã†ã€ãªãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ãŒå€™è£œã ã‚ˆğŸ®âœ¨

---

### æ¼”ç¿’Bï¼šDTOã‚’2ã¤ä½œã‚‹ğŸ“¦

Trading BCã§ã€å¢ƒç•Œè¶Šãˆã®DTOã‚’2ã¤è€ƒãˆã¦ã¿ã‚ˆã†ğŸ™‚

ä¾‹ï¼‰

* `StartTradeCommand`ï¼ˆå–å¼•é–‹å§‹ï¼‰
* `TradeSummaryDto`ï¼ˆå–å¼•ã®æ¦‚è¦ï¼‰

ã€Œä½•ã‚’éš ã—ãŸã„ã‹ã€ã‚’æ„è­˜ã™ã‚‹ã¨ä¸Šæ‰‹ãã„ãã‚ˆğŸ§¼ğŸ›¡ï¸

---

## 8. AIç›¸æ£’ğŸ¤–ã«é ¼ã‚€ã¨ãã®â€œè³ªå•ãƒ†ãƒ³ãƒ—ãƒ¬â€ğŸ€

### å…¬é–‹APIã®ãŸãŸãå°ã‚’ä½œã‚‹ğŸ“

* ã€Œ`Listing` BCã®å…¬é–‹APIã¨ã—ã¦ã€ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹é–¢æ•°ã‚’3ã¤ææ¡ˆã—ã¦ã€‚å¼•æ•°/æˆ»ã‚Šå€¤ã¯DTOä¸­å¿ƒã§ã€Entityã‚’å¤–ã«å‡ºã•ãªã„æ–¹é‡ã§ï¼ã€

### ä½™è¨ˆãªå…¬é–‹ãŒãªã„ã‹ãƒã‚§ãƒƒã‚¯ğŸ‘€

* ã€Œã“ã® `public/index.ts` ã® export ã¯å¤šã™ãã‚‹ï¼Ÿâ€œå¤–ã«ç¸›ã‚‰ã‚Œã‚‹â€è¦³ç‚¹ã§å±é™ºãªã‚‚ã®ãŒã‚ã‚Œã°æŒ‡æ‘˜ã—ã¦ï¼ã€

### DTOã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ•´ç†âœ‚ï¸

* ã€Œ`ListingSummaryDto` ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã€å°†æ¥ã®å¤‰æ›´ã«å¼±ã„ã‚‚ã®ãŒã‚ã‚Œã°æ¸›ã‚‰ã™æ¡ˆã‚’å‡ºã—ã¦ï¼ã€

---

## 9. ã“ã®ç« ã®ã¾ã¨ã‚ğŸ§¾âœ¨

* å…¬é–‹APIã¯ **BCã®ç„é–¢ğŸšª**ã€‚å…¥å£ã‚’çµã‚‹ã»ã©å¢ƒç•ŒãŒå®ˆã‚‰ã‚Œã‚‹ğŸ›¡ï¸
* å¤–ã«å‡ºã™ã®ã¯åŸºæœ¬ **ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ + DTO + å…¬é–‹ã‚¨ãƒ©ãƒ¼**ğŸ®ğŸ“¦âš ï¸
* **`public/index.ts` ã«é›†ç´„**ã™ã‚‹ã¨ã€è¦‹é€šã—ãŒè‰¯ããªã‚‹ğŸ‘€âœ¨
* å†…éƒ¨ï¼ˆdomain/infraï¼‰ã‚’ç›´æ¥è§¦ã‚‰ã›ãªã„ã®ãŒå‹ã¡ç­‹ğŸ†ğŸ§¼

```mermaid
mindmap
  root((å…¬é–‹APIã®æ§‹æˆ))
    ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹
      æ“ä½œã®å…¥å£
    DTO (ãƒ‡ãƒ¼ã‚¿é‹æ¬)
      Entityã¯éš ã™
    å…¬é–‹ã‚¨ãƒ©ãƒ¼
      å¤±æ•—ã®åˆ†é¡
    ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆ
      ä»–BCã¸ã®é€šçŸ¥
```

[1]: https://www.npmjs.com/package/typescript?utm_source=chatgpt.com "TypeScript"
[2]: https://devblogs.microsoft.com/typescript/announcing-typescript-native-previews/?utm_source=chatgpt.com "Announcing TypeScript Native Previews"
[3]: https://nodejs.org/api/packages.html?utm_source=chatgpt.com "Modules: Packages | Node.js v25.5.0 Documentation"
