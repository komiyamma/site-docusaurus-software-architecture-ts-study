# ç¬¬1ç« âœ¨ã€Œåˆæˆå„ªå…ˆã€ã£ã¦ä½•ã‚’ç›®æŒ‡ã™ã®ï¼ŸğŸ¤”ğŸ§©

ã‚ˆã†ã“ãã€œï¼ğŸ‰
ã“ã®ç« ã¯ã€Œåˆæˆå„ªå…ˆï¼ˆç¶™æ‰¿ã‚ˆã‚ŠCompositionï¼‰ã€ã®â€œå…¥å£â€ã ã‚ˆğŸšªâœ¨
ã¾ã è¨­è¨ˆã‚’ã¡ã‚ƒã‚“ã¨å­¦ã‚“ã§ãªãã¦ã‚‚å¤§ä¸ˆå¤«ğŸ‘Œ ã“ã“ã‹ã‚‰ä¸€ç·’ã«è‚²ã¦ã¦ã„ã“ã€œğŸŒ±ğŸ’•

---

## 1. ã“ã®è¬›åº§ã§ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã“ã¨ğŸ¯âœ¨

ã“ã®è¬›åº§ã‚’æœ€å¾Œã¾ã§ã‚„ã‚‹ã¨ã€ã–ã£ãã‚Šã“ã‚“ãªåŠ›ãŒã¤ãã¾ã™ğŸ’ªğŸ˜†

* ç¶™æ‰¿ã§æ›¸ã„ã¡ã‚ƒã£ãŸã‚³ãƒ¼ãƒ‰ã‚’ã€Œéƒ¨å“ã®çµ„ã¿åˆã‚ã›ã€ã«ç›´ã›ã‚‹ğŸ§©ğŸ”§
* â€œå·®ã—æ›¿ãˆã§ãã‚‹â€è¨­è¨ˆï¼ˆå¤‰æ›´ã«å¼·ã„ï¼‰ã‚’ä½œã‚Œã‚‹ğŸ”âœ¨
* ãƒ†ã‚¹ãƒˆã—ã‚„ã™ã„å½¢ã«ã—ã‚„ã™ããªã‚‹ğŸ§ªğŸ’¡
* ã€Œã‚ã¨ã§æ©Ÿèƒ½ãŒå¢—ãˆã¦ã‚‚åœ°ç„ã«ãªã‚Šã«ãã„ã€æ›¸ãæ–¹ãŒã‚ã‹ã‚‹ğŸ˜‡ğŸŒˆ

---

## 2. ä»Šæ—¥ã‹ã‚‰ã®åˆè¨€è‘‰ğŸª„âœ¨

### âœ… is-a ã‚ˆã‚Š has-a

* **is-aï¼ˆã€œã¯ã€œã§ã‚ã‚‹ï¼‰** â†’ ç¶™æ‰¿ã£ã½ã„è€ƒãˆæ–¹
  ä¾‹ï¼š`Cat is an Animal` ğŸ±â¡ï¸ğŸ¾
* **has-aï¼ˆã€œã‚’æŒã¤ï¼‰** â†’ åˆæˆã£ã½ã„è€ƒãˆæ–¹
  ä¾‹ï¼š`Car has an Engine` ğŸš—ğŸ§©

> åˆæˆå„ªå…ˆã¯ã€Œè‡ªåˆ†ã§å…¨éƒ¨ã‚„ã‚‰ãªã„ã§ã€éƒ¨å“ã«ãŠé¡˜ã„ã™ã‚‹ã€ç™ºæƒ³ã ã‚ˆğŸ™âœ¨

---

## 3. ç¶™æ‰¿ã¨åˆæˆã‚’ã€è¶…ã–ã£ãã‚Šæ¯”è¼ƒğŸ†š

![](./picture/isa_hasa_ts_study_001_inheritance_vs_composition.png)

### ç¶™æ‰¿ï¼šè¦ªå­é–¢ä¿‚ğŸ‘¨â€ğŸ‘§

* è‰¯ã„ç‚¹ï¼šå…±é€šå‡¦ç†ã‚’ã¾ã¨ã‚ã‚„ã™ã„âœ¨
* ã¤ã‚‰ã„ç‚¹ï¼šè¦ªã®å¤‰æ›´ãŒå­ã«æ³¢åŠã—ã‚„ã™ã„ğŸ˜±ï¼ˆå£Šã‚Œã‚„ã™ã„ï¼‰

### åˆæˆï¼šãƒãƒ¼ãƒ ç·¨æˆğŸ¤

* è‰¯ã„ç‚¹ï¼šéƒ¨å“ã‚’äº¤æ›ã§ãã‚‹ğŸ”âœ¨ï¼ˆå¤‰æ›´ã«å¼·ã„ï¼‰
* ã¤ã‚‰ã„ç‚¹ï¼šæœ€åˆã¯ã€Œéƒ¨å“åˆ†ã‘ã€ãŒã¡ã‚‡ã„æ…£ã‚Œå¿…è¦ğŸ™ƒ

---

## 4. ã¾ãšâ€œæ„Ÿè¦šâ€ã§æ´ã‚‚ã†ï¼ãƒŸãƒ‹ãŸã¨ãˆè©±ğŸ”ğŸ§©

![](./picture/isa_hasa_ts_study_001_burger_metaphor.png)

ã‚ãªãŸãŒã€Œãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼å±‹ã•ã‚“ğŸ”ã€ã ã¨ã—ã¦â€¦

### ç¶™æ‰¿ã§å¢—ã‚„ã™ã¨â€¦ğŸ”â¡ï¸ğŸ”ğŸŸğŸ¥¤

* `Burger`
* `CheeseBurger extends Burger`
* `BaconCheeseBurger extends CheeseBurger`
* `BaconCheeseBurgerWithEgg extends BaconCheeseBurger`
  â€¦ã¿ãŸã„ã«å¢—ãˆãŒã¡ã§ã€**ç¨®é¡ãŒå¢—ãˆã‚‹ã»ã©ãƒ„ãƒªãƒ¼çˆ†ç™ºğŸŒ³ğŸ’¥**ã—ã‚„ã™ã„

### åˆæˆã ã¨â€¦ğŸ§©âœ¨

* ãƒãƒ³ã‚ºğŸ¥¯
* ãƒ‘ãƒ†ã‚£ğŸ¥©
* ãƒãƒ¼ã‚ºğŸ§€
* ãƒ™ãƒ¼ã‚³ãƒ³ğŸ¥“
* åµğŸ³
  ã‚’**çµ„ã¿åˆã‚ã›ã‚‹ã ã‘**ã§ç„¡é™ã«ä½œã‚Œã‚‹ğŸ‰

> ã€Œçµ„ã¿åˆã‚ã›ãŒå¢—ãˆã‚‹ä¸–ç•Œã€ã¯ã€åˆæˆãŒã‚ã£ã¡ã‚ƒå¼·ã„ã‚ˆğŸ’ªğŸ§©

---

## 5. TypeScriptã®â€œæœ€æ–°æ„Ÿâ€ã ã‘æŠ¼ã•ãˆã¨ã“ğŸ§ âœ¨ï¼ˆ2026-01-15æ™‚ç‚¹ï¼‰

* TypeScriptã®å®‰å®šç‰ˆã¯ **5.9.3** ãŒ â€œLatestâ€ ã«ãªã£ã¦ã‚‹ã‚ˆğŸ“¦âœ¨ ([npm][1])
* TypeScriptã¯ä»Šå¾Œ **6.0ï¼ˆæ©‹æ¸¡ã—ï¼‰â†’ 7.0ï¼ˆãƒã‚¤ãƒ†ã‚£ãƒ–ç§»è¡Œï¼‰** ã¸é€²ã‚€è¨ˆç”»ãŒå…¬å¼ã«èª¬æ˜ã•ã‚Œã¦ã‚‹ã‚ˆğŸš€ ([Microsoft for Developers][2])
* Node.js ã¯ **v24 ãŒ Active LTS** ã§ã€v22/v20 ã¯ Maintenance LTS ã£ã¦æ‰±ã„ã ã‚ˆğŸ“Œ ([Node.js][3])
  ï¼ˆæœ€è¿‘ã‚‚ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒªãƒªãƒ¼ã‚¹ãŒå‡ºã¦ã‚‹ã‹ã‚‰ã€LTSè¿½å¾“ãŒå®‰å¿ƒğŸ›¡ï¸ï¼‰ ([Node.js][4])

ã“ã®è¬›åº§ã§ã¯ã€Œä»Šã®å®‰å®šç‰ˆã§æ°—æŒã¡ã‚ˆãå‹•ãã€æ–¹å‘ã§ã„ãã­ğŸ˜Šâœ¨

---

## 6. â€œå‹•ãâ€ãŒæœ€å¼·ğŸ”¥ ã¾ãšã¯æœ€å°TSãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œã‚ã†ğŸªŸğŸ’»

ã“ã“ã¯ã€Œè¨­è¨ˆã®è©±ã€ã‚’ã™ã‚‹å‰ã«ã€**ã‚µãƒƒã¨å‹•ã‹ã—ã¦æ°—åˆ†ã‚’ä¸Šã’ã‚‹ãƒ‘ãƒ¼ãƒˆ**ã ã‚ˆğŸ˜†ğŸµ
ï¼ˆâ€»é›£ã—ã„è¨­å®šã¯ã—ãªã„ï¼ã¾ãšèµ°ã‚Œã°OKğŸƒâ€â™€ï¸ğŸ’¨ï¼‰

### 6-1. ãƒ•ã‚©ãƒ«ãƒ€ä½œã£ã¦ã€ã‚¿ãƒ¼ãƒŸãƒŠãƒ«é–‹ãğŸ“âœ¨

ä¾‹ï¼š`composition-ch01` ã¿ãŸã„ãªåå‰ã§OKğŸ™†â€â™€ï¸

### 6-2. æœ€å°ã‚»ãƒƒãƒˆï¼ˆNodeã§å‹•ã‹ã™ï¼‰ğŸ§©

```bash
mkdir composition-ch01
cd composition-ch01

npm init -y
npm i -D typescript
npx tsc --init
```

> TypeScript 5.9 ã§ã¯ `tsc --init` ã®ç”Ÿæˆå†…å®¹ãŒâ€œè¦‹ã‚„ã™ãæ•´ç†â€ã•ã‚Œã¦ãã¦ã‚‹ã‚ˆâœ¨ ([TypeScript][5])

### 6-3. `src/index.ts` ã‚’ä½œã‚‹ğŸ“

```bash
mkdir src
```

```ts
// src/index.ts
console.log("Hello Composition! ğŸ§©âœ¨");
```

### 6-4. `tsconfig.json` ã‚’ã¡ã‚‡ã„ã ã‘æ•´ãˆã‚‹âš™ï¸âœ¨

`tsconfig.json` ã®ä¸­ã«ã€æœ€ä½é™ã“ã‚“ãªæ„Ÿã˜ã‚’è¶³ã—ã¦OKï¼ï¼ˆæ—¢ã«ä¼¼ãŸé …ç›®ãŒã‚ã‚Œã°åˆã‚ã›ã¦ã­ï¼‰

```json
{
  "compilerOptions": {
    "outDir": "dist",
    "rootDir": "src",
    "target": "ES2023",
    "module": "NodeNext"
  }
}
```

### 6-5. `package.json` ã« scripts ã‚’è¿½åŠ ğŸƒâ€â™€ï¸ğŸ’¨

```json
{
  "scripts": {
    "build": "tsc",
    "start": "node dist/index.js"
  }
}
```

### 6-6. å‹•ã‹ã™ï¼ğŸ‰

```bash
npm run build
npm start
```

`Hello Composition! ğŸ§©âœ¨` ãŒå‡ºãŸã‚‰å‹ã¡ã€œï¼ï¼ğŸ†ğŸ¥³

```mermaid
flowchart TD
  Setup[ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ] --> Init[åˆæœŸåŒ–<br/>npm init & tsc --init]
  Init --> Code[ã‚³ãƒ¼ãƒ‰ä½œæˆ<br/>src/index.ts]
  Code --> Config[è¨­å®šèª¿æ•´<br/>tsconfig.json & package.json]
  Config --> Run[å®Ÿè¡Œ<br/>npm run build & npm start]
```

---

## 7. ã“ã“ã§â€œåˆæˆã®æœ€å°ä½“é¨“â€ã ã‘ã—ã¦ã¿ã‚ˆğŸ§©âœ¨

ã„ããªã‚Šé›£ã—ã„è¨­è¨ˆã¯ã—ãªã„ã‚ˆï¼
ã¾ãšã¯ã€Œéƒ¨å“ã‚’æŒã£ã¦ã€ãŠé¡˜ã„ã™ã‚‹ã€ã ã‘ğŸ¤âœ¨

### 7-1. â€œéƒ¨å“â€ ã‚’ä½œã‚‹ï¼ˆLoggerï¼‰ğŸ§°

```ts
// src/logger.ts
export interface Logger {
  info(message: string): void;
}

export class ConsoleLogger implements Logger {
  info(message: string): void {
    console.log("INFO:", message);
  }
}
```

### 7-2. â€œæœ¬ä½“â€ ãŒéƒ¨å“ã‚’æŒã¤ï¼ˆhas-aï¼‰ğŸ“¦âœ¨

```ts
// src/app.ts
import type { Logger } from "./logger.js";

export class App {
  constructor(private readonly logger: Logger) {}

  run(): void {
    this.logger.info("App started! ğŸš€");
  }
}
```

### 7-3. çµ„ã¿ç«‹ã¦ã¦å‹•ã‹ã™ğŸ§©ğŸ¬

```ts
// src/index.ts
import { App } from "./app.js";
import { ConsoleLogger } from "./logger.js";

const logger = new ConsoleLogger();
const app = new App(logger);

app.run();
```

#### ğŸ’¡ã“ã“ãŒä»Šæ—¥ã®ã‚­ãƒ¢ï¼

* `App` ã¯ `ConsoleLogger` ã‚’ **newã—ã¦ãªã„**
* ä»£ã‚ã‚Šã« `Logger` ã‚’ **å—ã‘å–ã£ã¦ä½¿ã£ã¦ã‚‹**
* ã¤ã¾ã‚Š `ConsoleLogger` ã‚’ **åˆ¥ã®Loggerã«å·®ã—æ›¿ãˆå¯èƒ½**ğŸ”âœ¨

ã“ã‚ŒãŒã€Œåˆæˆã®å…¥å£ã€ã ã‚ˆã€œï¼ğŸ§©ğŸ’•

```mermaid
classDiagram
  class Logger {
    <<interface>>
    +info(message: string) void
  }
  class ConsoleLogger {
    +info(message: string) void
  }
  class App {
    -logger: Logger
    +run() void
  }
  Logger <|.. ConsoleLogger : implements
  App --> Logger : has-a (uses)
```

---

## 8. AIæ‹¡å¼µã®ä½¿ã„ã©ã“ã‚ğŸ¤–âœ¨ï¼ˆä»Šæ—¥ã‹ã‚‰é›‘ã«ä½¿ã£ã¦OKï¼‰

â€œä¸¸æŠ•ã’â€ã˜ã‚ƒãªãã¦ã€**ç›¸æ£’ã«ã™ã‚‹**æ„Ÿã˜ãŒã¡ã‚‡ã†ã©ã„ã„ã‚ˆğŸ˜†ğŸ¤

### ä¾‹ï¼šãŠé¡˜ã„ã®ã—ã‹ãŸğŸ—£ï¸âœ¨

* ã€Œã“ã® `Logger` ã‚’ `FileLogger` ã«ã‚‚å·®ã—æ›¿ãˆã‚‰ã‚Œã‚‹ã‚ˆã†ã«ã—ãŸã„ã€‚å®Ÿè£…æ¡ˆå‡ºã—ã¦ï¼ã€ğŸ“
* ã€Œ`ConsoleLogger` ã®ãƒ†ã‚¹ãƒˆç”¨ãƒ€ãƒŸãƒ¼ï¼ˆãƒ¡ãƒ¢ãƒªã«ä¿å­˜ã™ã‚‹ã‚„ã¤ï¼‰ä½œã£ã¦ã€ğŸ§ª
* ã€Œä»Šã®ã‚³ãƒ¼ãƒ‰ã‚’ã€åˆå¿ƒè€…ã«ã‚‚ã‚ã‹ã‚‹ã‚³ãƒ¡ãƒ³ãƒˆä»˜ãã«ã—ã¦ã€ğŸ’¬

### ãƒã‚§ãƒƒã‚¯ã ã‘ã¯äººé–“ãŒã‚„ã‚‹âœ…ğŸ‘€

* éƒ¨å“ï¼ˆLoggerï¼‰ã«ä¾å­˜ã—ã¦ã‚‹ï¼Ÿãã‚Œã¨ã‚‚å…·ä½“ã‚¯ãƒ©ã‚¹ã«ãƒ™ã‚¿ä¾å­˜ã—ã¦ã‚‹ï¼Ÿ
* å·®ã—æ›¿ãˆã§ããã†ï¼ŸğŸ”
* åå‰ãŒã‚ã‹ã‚Šã‚„ã™ã„ï¼ŸğŸ“

---

## 9. ç« æœ«ã¾ã¨ã‚ğŸâœ¨

ä»Šæ—¥æŒã¡å¸°ã‚‹ã®ã¯ã“ã‚Œã ã‘ã§OKï¼ğŸ’¯

* åˆæˆå„ªå…ˆã®åˆè¨€è‘‰ã¯ **has-a** ğŸ§©
* æœ¬ä½“ãŒéƒ¨å“ã«ãŠé¡˜ã„ã™ã‚‹ï¼**å§”è­²ï¼ˆdelegateï¼‰** ã®å…¥å£ğŸ™âœ¨
* TypeScriptã§å·®ã—æ›¿ãˆã‚„ã™ãã™ã‚‹ç¬¬ä¸€æ­©ã¯ **interface** ğŸ“˜
* æœ€å°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒå‹•ã„ãŸã‚‰ã€ã‚‚ã†åŠåˆ†å‹ã¡ğŸ†ğŸ‰

---

## 10. ãƒŸãƒ‹ãƒ†ã‚¹ãƒˆï¼ˆè¶…ã‹ã‚“ãŸã‚“ï¼‰ğŸ“âœ¨

Q1. ã€Œhas-aã€ã£ã¦ã©ã‚“ãªç™ºæƒ³ï¼Ÿï¼ˆä¸€è¨€ã§ï¼‰ğŸ¤”
Q2. `App` ãŒ `ConsoleLogger` ã‚’ `new` ã—ãªã„ã®ã¯ãªãœï¼ŸğŸ”
Q3. `Logger` ã‚’ `interface` ã«ã™ã‚‹å¬‰ã—ã•ã¯ï¼ŸğŸ“˜

ï¼ˆç­”ãˆã¯æ¬¡ç« ã®å†’é ­ã§ã‚µãƒ©ãƒƒã¨å¾©ç¿’ã™ã‚‹ã­ğŸ˜‰âœ¨ï¼‰

---

## 11. å®¿é¡Œï¼ˆ5åˆ†ã§OKï¼‰â³ğŸ§©

`ConsoleLogger` ã®ä»£ã‚ã‚Šã«ã€ã“ã†ã„ã† â€œãƒ†ã‚¹ãƒˆç”¨Loggerâ€ ã‚’ä½œã£ã¦ã¿ã¦ã­ğŸ§ªâœ¨

* `MemoryLogger`ï¼šå‘¼ã°ã‚ŒãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é…åˆ—ã«è²¯ã‚ã‚‹ã ã‘ğŸ“¦
* `app.run()` ã®ã‚ã¨ã«ã€ãã®é…åˆ—ã‚’ `console.log` ã§è¡¨ç¤ºã—ã¦ã¿ã‚‹ğŸ€

---

æ¬¡ã®ç¬¬2ç« ã§ã¯ã€ã„ã‚ˆã„ã‚ˆã€Œç¶™æ‰¿ã§èµ·ããŒã¡ãªäº‹æ•…ã‚ã‚‹ã‚ã‚‹ğŸ’¥ã€ã‚’ã€TypeScriptã®ä¾‹ã§â€œã‚ã‹ã‚‹ã€œï¼â€ã£ã¦ãªã‚‹æ„Ÿã˜ã§ã„ãã‚ˆğŸ˜†ğŸŒªï¸

[1]: https://www.npmjs.com/package/typescript?activeTab=versions&utm_source=chatgpt.com "typescript"
[2]: https://devblogs.microsoft.com/typescript/progress-on-typescript-7-december-2025/?utm_source=chatgpt.com "Progress on TypeScript 7 - December 2025"
[3]: https://nodejs.org/en/about/previous-releases?utm_source=chatgpt.com "Node.js Releases"
[4]: https://nodejs.org/en/blog/release/v22.22.0?utm_source=chatgpt.com "Node.js 22.22.0 (LTS)"
[5]: https://www.typescriptlang.org/docs/handbook/release-notes/typescript-5-9.html?utm_source=chatgpt.com "Documentation - TypeScript 5.9"
