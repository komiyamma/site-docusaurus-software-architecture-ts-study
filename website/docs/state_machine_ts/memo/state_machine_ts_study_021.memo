遷移表（Record）を用いて仕様を可読性の高いコードに厳密に落とし込む。TransitionTable型とsatisfiesをフル活用し、型推論を維持しつつ状態遷移定義を一元管理する。