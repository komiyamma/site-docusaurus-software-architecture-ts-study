# ç¬¬1ç«  ä¾å­˜ã£ã¦ãªã«ï¼ŸTSã®ä¾å­˜ã¯ã¾ãšã€Œimportã€ã‹ã‚‰ğŸ˜±ğŸ”—

## ã“ã®ç« ã®ã‚´ãƒ¼ãƒ«ğŸ¯âœ¨

* ã€Œä¾å­˜ã€ï¼**çŸ¢å°â¡ï¸**ã£ã¦æ„Ÿè¦šã§è¨€ãˆã‚‹ã‚ˆã†ã«ãªã‚‹
* ã©ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒã©ã‚Œã«ä¾å­˜ã—ã¦ã‚‹ã‹ã€**ã–ã£ãã‚Šåœ°å›³ğŸ—ºï¸**ã«ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹
* `import/export` ãŒå¢—ãˆã‚‹ã¨èµ·ãã‚‹ã€Œå¤‰æ›´ã®æ³¢ğŸŒŠã€ã‚’ä½“é¨“ã™ã‚‹

---

## 1) ã¾ãšã€Œä¾å­˜ã€ã£ã¦ãªã«ï¼ŸğŸ§ ğŸ”—

![](./picture/dpn_rule_ts_study_001_dependency_arrow.png)

è¶…ã–ã£ãã‚Šè¨€ã†ã¨â€¦

**AãŒBã«ä¾å­˜ã—ã¦ã‚‹**ï¼
AãŒå‹•ã/ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ãŸã‚ã« **Bã®å­˜åœ¨ãƒ»åå‰ãƒ»å½¢** ã‚’çŸ¥ã£ã¦ãªã„ã¨ã„ã‘ãªã„çŠ¶æ…‹ğŸ‘€

TypeScriptã ã¨ã€ä¸€ç•ªã‚ˆãã‚ã‚‹ä¾å­˜ã®ç™ºç”Ÿæºã¯ã‚³ãƒ¬ğŸ‘‡

* `import { something } from "./b"`
  â†’ **A â†’ B** ã®çŸ¢å°ãŒã§ãã‚‹â¡ï¸

## ä¾å­˜ã¯ã€Œæ‚ªã€ã˜ã‚ƒãªã„ğŸ™…â€â™€ï¸âœ¨

ä¾å­˜ãã®ã‚‚ã®ã¯æ™®é€šã«å¿…è¦ï¼
ãŸã ã—ã€ä¾å­˜ã®çŸ¢å°ãŒå¢—ãˆã™ãã‚‹ã¨â€¦

* å¤‰æ›´ã—ãŸã¨ãã®å½±éŸ¿ç¯„å›²ãŒèª­ã‚ãªã„ğŸ˜µâ€ğŸ’«
* ç›´ã—ãŸã„ã ã‘ãªã®ã«ä¿®æ­£ãŒé€£é–ã™ã‚‹ğŸ§¨
* â€œã©ã“è¦‹ã‚Œã°ã„ã„ã®ï¼Ÿâ€ãŒå¢—ãˆã‚‹ğŸ“šğŸ’¥

â€¦ã£ã¦ãªã‚ŠãŒã¡ã€‚ã“ã“ã‚’ä½“æ„Ÿã™ã‚‹ã®ãŒã“ã®ç« ã ã‚ˆğŸ˜ŠğŸ«¶

---

## 2) TSã®ä¾å­˜ã¯ã€Œãƒ•ã‚¡ã‚¤ãƒ«ï¼ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã€ã‹ã‚‰å§‹ã¾ã‚‹ğŸ“„ğŸ“¦

TS/JSã®åŸºæœ¬ã¯ã“ã‚Œï¼

* **1ãƒ•ã‚¡ã‚¤ãƒ« = 1ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼ˆéƒ¨å“ï¼‰** ğŸ“¦
* `export` ã§å¤–ã«å‡ºã™ğŸšª
* `import` ã§ä»–ã®éƒ¨å“ã‚’ä½¿ã†ğŸ§©

---

## 3) ã¾ãšã¯è¶…ãƒŸãƒ‹ã§ `export/import` ã‚’è§¦ã‚ã†ğŸ‘©â€ğŸ’»âœ¨

## 3-1. ãƒŸãƒ‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œã‚‹ï¼ˆWindows / VS Codeå‘ã‘ï¼‰ğŸªŸğŸ§°

PowerShellã§OKã ã‚ˆğŸ’¡

```bash
mkdir deps-ch01
cd deps-ch01
npm init -y
npm i -D typescript
npx tsc --init
```

æ¬¡ã« `tsconfig.json` ã‚’ã¡ã‚‡ã“ã£ã¨ã ã‘æ•´ãˆã‚‹ã‚ˆï¼ˆæœ€å°ã‚»ãƒƒãƒˆï¼‰ğŸ‘‡
ï¼ˆåˆå¿ƒè€…å‘ã‘ã«ã€ã¾ãšã¯å‹•ã‹ã—ã‚„ã™ã•å„ªå…ˆï¼ï¼‰

```json
{
  "compilerOptions": {
    "target": "ES2022",
    "module": "CommonJS",
    "rootDir": "src",
    "outDir": "dist",
    "strict": true,
    "noEmitOnError": true
  }
}
```

`package.json` ã«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚‚è¿½åŠ ã—ã‚ˆğŸ‘‡

```json
{
  "scripts": {
    "build": "tsc",
    "start": "node dist/main.js"
  }
}
```

---

## 3-2. ã¾ãšã¯1ãƒ•ã‚¡ã‚¤ãƒ«ã§å®Œæˆã•ã›ã‚‹ğŸ§

`src/main.ts` ã‚’ä½œã£ã¦ã“ã‚ŒğŸ‘‡

```ts
function add(a: number, b: number) {
  return a + b;
}

console.log("åˆè¨ˆ:", add(10, 32));
```

å‹•ã‹ã™ğŸ‘‡

```bash
npm run build
npm run start
```

OKãªã‚‰æº–å‚™å®Œäº†ã€œï¼ğŸ‰ğŸ˜Š

---

## 4) åˆ†å‰²ã—ã¦ã¿ã‚ˆã†ï¼šimportãŒã€Œä¾å­˜ã®çŸ¢å°ã€ã«ãªã‚‹â¡ï¸ğŸ“¦

æ¬¡ã¯ã€ã•ã£ãã® `add` ã‚’åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ã«åˆ†ã‘ã‚‹ã‚ˆâœ‚ï¸

## 4-1. ãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆ†ã‘ã‚‹ğŸ—‚ï¸

`src/math.ts`

```ts
export function add(a: number, b: number) {
  return a + b;
}
```

`src/main.ts`

```ts
import { add } from "./math";

console.log("åˆè¨ˆ:", add(10, 32));
```

ã“ã‚Œã§ä¾å­˜é–¢ä¿‚ã¯ã“ã†ğŸ‘‡

* `main.ts` â†’ `math.ts` â¡ï¸

## 4-2. â€œçŸ¢å°â€ã‚’æ‰‹ã§æãç·´ç¿’ğŸ“ğŸ—ºï¸

```mermaid
graph LR
  Main[main.ts] -->|import| Math[math.ts]
```

ãƒãƒ¼ãƒˆã§ã‚‚ãƒ†ã‚­ã‚¹ãƒˆã§ã‚‚OKï¼

* main â†’ math
  ï¼ˆã“ã‚Œã ã‘ã§ã€Œä¾å­˜ã€ã‚’ä½“æ„Ÿã§ãã¦å‰ã„ğŸ‘âœ¨ï¼‰

---

## 5) `import/export` ã®æœ€ä½é™ã‚»ãƒƒãƒˆï¼ˆã“ã®ç« ã§ä½¿ã†ã¶ã‚“ã ã‘ï¼‰ğŸ“Œâœ¨

## 5-1. åå‰ã¤ãexportï¼ˆã„ã¡ã°ã‚“ä½¿ã†ï¼‰ğŸ§¡

```ts
// math.ts
export function add(a: number, b: number) { return a + b; }
```

```ts
// main.ts
import { add } from "./math";
```

## 5-2. default exportï¼ˆå¥½ã¿åˆ†ã‹ã‚Œã‚‹ï¼‰ğŸ©

```ts
// greeting.ts
export default function hello() { return "hi"; }
```

```ts
import hello from "./greeting";
```

> æœ€åˆã¯ã€Œåå‰ã¤ã exportã€ã ã‘ã§ã‚‚ãœã‚“ãœã‚“OKã ã‚ˆğŸ˜ŠğŸ‘

## 5-3. typeã ã‘importï¼ˆã¡ã‚‡ã„ä¸Šç´šã ã‘ã©ä¾¿åˆ©ï¼‰ğŸ§Š

```ts
import type { User } from "./types";
```

ãƒã‚¤ãƒ³ãƒˆã¯ã“ã‚ŒğŸ‘‡

* å®Ÿè¡Œæ™‚ã®JSã«ã¯æ¶ˆãˆã‚‹ï¼ˆ=ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ä¾å­˜ã¯å¢—ãˆã«ãã„ï¼‰
* ã§ã‚‚ã€Œè¨­è¨ˆã¨ã—ã¦ã¯ä¾å­˜ã€ã«ãªã‚‹ã“ã¨ãŒå¤šã„ï¼ˆå‹ã‚’çŸ¥ã£ã¦ã‚‹ã‹ã‚‰ï¼‰ğŸ§ 

---

## 6) `import` ãŒå¢—ãˆã‚‹ã¨ä½•ãŒèµ·ãã‚‹ï¼ŸğŸ’¥ğŸŒŠï¼ˆå¤‰æ›´ã®æ³¢ã‚’ä½“é¨“ï¼‰

![](./picture/dpn_rule_ts_study_001_ripple_effect.png)

ã“ã“ã‹ã‚‰ãŒæœ¬ç•ªğŸ˜âœ¨
ã€Œåˆ†å‰²ã—ãŸã‚‰ã‚­ãƒ¬ã‚¤ã€ã ã‘ã˜ã‚ƒãªãã¦ã€**æ³¢åŠ**ã‚‚å¢—ãˆã‚‹ã“ã¨ã‚’ä½“æ„Ÿã™ã‚‹ã‚ˆï¼

## 6-1. ã‚‚ã†å°‘ã—ã ã‘åˆ†å‰²ã™ã‚‹ï¼ˆ3ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰ğŸ§©

ã“ã‚“ãªæ§‹æˆã«ã™ã‚‹ğŸ‘‡

* `src/money.ts`ï¼ˆè¡¨ç¤ºï¼‰
* `src/calc.ts`ï¼ˆè¨ˆç®—ï¼‰
* `src/main.ts`ï¼ˆå…¥å£ï¼‰

`src/money.ts`

```ts
export function formatYen(value: number) {
  return `${value.toLocaleString("ja-JP")}å††`;
}
```

`src/calc.ts`

```ts
export function calcTotal(price: number, taxRate: number) {
  return Math.floor(price * (1 + taxRate));
}
```

`src/main.ts`

```ts
import { calcTotal } from "./calc";
import { formatYen } from "./money";

const total = calcTotal(2980, 0.1);
console.log("ãŠä¼šè¨ˆ:", formatYen(total));
```

ä¾å­˜ã®çŸ¢å°ã¯ã“ã†ãªã‚‹ã‚ˆğŸ‘‡ğŸ—ºï¸

```mermaid
graph TD
  Main[main.ts] -->|import| Calc[calc.ts]
  Main -->|import| Money[money.ts]
```

* main â†’ calc
* main â†’ money

---

## 6-2. å¤‰æ›´ã®æ³¢ğŸŒŠã‚’ã‚ã–ã¨èµ·ã“ã™ï¼ˆãƒŸãƒ‹äº‹æ•…å®Ÿé¨“ğŸ§ªï¼‰

`calc.ts` ã®é–¢æ•°åã‚’å¤‰ãˆã‚‹ï¼

`calc.ts` ã‚’ã“ã†å¤‰ãˆã¦ã¿ã¦ğŸ‘‡

```ts
export function calcTotalWithTax(price: number, taxRate: number) {
  return Math.floor(price * (1 + taxRate));
}
```

ã¯ã„ã€ã“ã“ã§ãƒ“ãƒ«ãƒ‰ğŸ‘‡

```bash
npm run build
```

ãŸã¶ã‚“ `main.ts` ãŒã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã¯ãšï¼ğŸ˜±
ã“ã‚ŒãŒã€Œå¤‰æ›´ã®æ³¢åŠã€ğŸŒŠ

**ãƒã‚¤ãƒ³ãƒˆâœ¨**

* `calc.ts` ã‚’å¤‰ãˆãŸã®ã«ã€`main.ts` ã‚’ç›´ã•ãªã„ã¨é€šã‚‰ãªã„
* ä¾å­˜ï¼ˆimportï¼‰ã®çŸ¢å°ãŒã‚ã‚‹æ–¹å‘ã«ã€å¤‰æ›´ãŒä¼ã‚ã‚‹ã“ã¨ãŒå¤šã„â¡ï¸

---

## 7) VS Codeã§ã€Œä¾å­˜ã®æŠŠæ¡ã‚³ã‚¹ãƒˆã€ã‚’æ¸›ã‚‰ã™ğŸ§­âœ¨

åˆ†å‰²ã—ãŸã‚‰ã€**æ¢ã™åŠ›**ãŒè¶…å¤§äº‹ï¼ğŸ‘€ğŸ’¨

ã‚ˆãä½¿ã†ã‚„ã¤ã ã‘è¦šãˆã‚ˆã€œğŸ‘‡

* å®šç¾©ã¸ç§»å‹•ï¼š`F12` ğŸƒâ€â™€ï¸ğŸ’¨
* å‚ç…§ã‚’æ¢ã™ï¼š`Shift + F12` ğŸ”
* åå‰å¤‰æ›´ï¼ˆå®‰å…¨ã«ä¸€æ‹¬ï¼‰ï¼š`F2` ğŸª„âœ¨

ã•ã£ãã®é–¢æ•°åå¤‰æ›´ã‚‚ã€**F2ã®Rename**ã§ã‚„ã‚‹ã¨äº‹æ•…ã‚Šã«ãã„ã‚ˆğŸ˜ŠğŸ«¶

---

## 8) ãƒŸãƒ‹æ¼”ç¿’ğŸ‘©â€ğŸ’»ï¼šåˆ†å‰² â†’ importå¢—åŠ  â†’ å½±éŸ¿ç¯„å›²ã‚’ãƒ¡ãƒ¢ğŸ“âœ¨

## æ¼”ç¿’Aï¼šä¾å­˜ãƒãƒƒãƒ—ã‚’ä½œã‚‹ğŸ—ºï¸

ä»Šã®çŠ¶æ…‹ã§ã€ã“ã‚Œã‚’æ›¸ã„ã¦ã¿ã¦ğŸ‘‡

* main â†’ calc
* main â†’ money

æ¬¡ã«ã€`calc.ts` ãŒ `money.ts` ã‚’ä½¿ã†å½¢ã«å¤‰ãˆã¦ã¿ã‚‹ï¼ˆã‚ã–ã¨ä¾å­˜ã‚’å¢—ã‚„ã™ï¼‰ğŸ˜ˆ

ä¾‹ï¼š`calc.ts`

```ts
import { formatYen } from "./money";

export function calcTotal(price: number, taxRate: number) {
  const total = Math.floor(price * (1 + taxRate));
  // â€»è¡¨ç¤ºã‚’è¿”ã™è¨­è¨ˆã¯ã€ã‚ã¨ã§ã€Œå±¤ãŒæ··ã–ã‚‹ã€è©±ã«ã¤ãªãŒã‚‹ã‚ˆğŸ¤«
  console.log("calcå´ãƒ­ã‚°:", formatYen(total));
  return total;
}
```

ã“ã®ã¨ãã®ä¾å­˜ã¯ã“ã†ğŸ‘‡

```mermaid
graph TD
  Main[main.ts] --> Calc[calc.ts]
  Main --> Money[money.ts]
  Calc -->|ä½¿ã†| Money
  style Calc fill:#ffcccc,stroke:#ff0000
  style Money fill:#ffcccc,stroke:#ff0000
```

* main â†’ calc
* main â†’ money
* calc â†’ money

âœ…ãƒ¡ãƒ¢ã—ã¦ã­ï¼š
ã€ŒçŸ¢å°ãŒ1æœ¬å¢—ãˆãŸã€ï¼ã€Œå½±éŸ¿ã®ä¼æ’­ãƒ«ãƒ¼ãƒˆãŒå¢—ãˆãŸã€ã‹ã‚‚ã€ã£ã¦æ„Ÿè¦šãŒå¤§äº‹ğŸ§ âœ¨

---

## 9) AIğŸ¤–ã«ã‚„ã‚‰ã›ã‚‹ã¨è¶…ãƒ©ã‚¯ï¼šä¾å­˜ã‚’ç®‡æ¡æ›¸ãï¼‹ç°¡æ˜“å›³ğŸ—ºï¸

ãã®ã¾ã¾ã‚³ãƒ”ãƒšã§ä½¿ãˆã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç½®ã„ã¨ãã­ğŸ’Œâœ¨

## 9-1. ä¾å­˜ãƒªã‚¹ãƒˆã‚’å‡ºã—ã¦ã‚‚ã‚‰ã†

ã€Œã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å„ãƒ•ã‚¡ã‚¤ãƒ«ã®importä¸€è¦§ã‚’å‡ºã—ã¦ã€ä¾å­˜ã®çŸ¢å°ï¼ˆAâ†’Bï¼‰ã‚‚ç®‡æ¡æ›¸ãã«ã—ã¦ã€

## 9-2. ASCIIã§ä¾å­˜å›³ã‚’æã„ã¦ã‚‚ã‚‰ã†

ã€Œimporté–¢ä¿‚ã‚’ã‚‚ã¨ã«ã€ãƒ†ã‚­ã‚¹ãƒˆã ã‘ã§ä¾å­˜ã‚°ãƒ©ãƒ•ã‚’æã„ã¦ï¼ˆä¾‹ï¼šmain -> calcï¼‰ã€

## 9-3. â€œå¤‰æ›´ã®æ³¢â€ãŒå¤§ãã„ã¨ã“ã‚ã‚’æŒ‡æ‘˜ã•ã›ã‚‹

ã€Œä¾å­˜ãŒé›†ä¸­ã—ã¦ã‚‹ï¼ˆçŸ¢å°ãŒå¤šã„ï¼‰ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¦‹ã¤ã‘ã¦ã€ç†ç”±ã¨æ”¹å–„æ¡ˆã‚’3ã¤å‡ºã—ã¦ã€

---

## 10) ã¡ã‚‡ã„æœ€æ–°ãƒ¡ãƒ¢ï¼ˆ2026å¹´1æœˆæ™‚ç‚¹ï¼‰ğŸ†•âœ¨

* Node.js ã¯ v24 ãŒ **Active LTSï¼ˆKryptonï¼‰** ã¨ã—ã¦æ‰±ã‚ã‚Œã¦ã‚‹ã‚ˆğŸŸ© ([nodejs.org][1])
* TypeScript ã¯ 5.9 ç³»ãŒæœ€æ–°ã‚¿ã‚°ã¨ã—ã¦æ¡ˆå†…ã•ã‚Œã¦ã„ã¦ã€ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«è¨­å®šã« **`node20`** ã¿ãŸã„ãªâ€œå®‰å®šã—ãŸåŸºæº–â€ã‚‚ç”¨æ„ã•ã‚Œã¦ã‚‹ã‚ˆğŸ§­ ([GitHub][2])
* TypeScriptå‘ã‘ã®ESLinté€£æºï¼ˆtypescript-eslintï¼‰ã¯ 2026-01-12 ã«æœ€æ–°ãƒªãƒªãƒ¼ã‚¹ãŒå‡ºã¦ã‚‹ï¼ˆæ¯é€±æ›´æ–°ã‚¹ã‚¿ã‚¤ãƒ«ï¼‰ğŸ“¦ ([GitHub][3])

> ã“ã®ç« ã¯ã€Œä¾å­˜ï¼çŸ¢å°ã®ä½“æ„Ÿã€ãŒä¸»å½¹ãªã®ã§ã€è¨­å®šã¯ã¾ãšã‚·ãƒ³ãƒ—ãƒ«ã«ã—ãŸã‚ˆğŸ˜ŠğŸ«¶
> ã§ã‚‚â€œæ–°ã—ã‚ã®é¸æŠè‚¢ãŒã©ã†ãªã£ã¦ã‚‹ã‹â€ã¯ã€ã“ã“ã ã‘æŠ¼ã•ãˆã‚Œã°OKğŸ‘Œâœ¨

---

## ã¾ã¨ã‚ğŸ€âœ¨ï¼ˆã“ã®ç« ã§è¦šãˆãŸã„ã“ã¨3ã¤ï¼ï¼‰

1. `import` ã—ãŸç¬é–“ã« **ä¾å­˜ã®çŸ¢å°â¡ï¸** ãŒç”Ÿãˆã‚‹
2. çŸ¢å°ãŒå¢—ãˆã‚‹ã¨ã€Œå¤‰æ›´ã®æ³¢ğŸŒŠã€ãŒåºƒãŒã‚Šã‚„ã™ã„
3. VS Codeã® **å‚ç…§æ¤œç´¢ğŸ” / ãƒªãƒãƒ¼ãƒ ğŸª„** ã¯ã€ä¾å­˜æ™‚ä»£ã®å¿…é ˆã‚¹ã‚­ãƒ«

---

## æ¬¡ã®ç« ãƒãƒ©è¦‹ã›ğŸ‘€âœ¨

æ¬¡ã¯ã€Œä¸­å¿ƒï¼ˆæ–¹é‡ï¼‰ã‚’å¤–å´ï¼ˆè©³ç´°ï¼‰ã‹ã‚‰å®ˆã‚‹ã€ã£ã¦ã„ã†ã€Dependency Ruleã®æ ¸ğŸ§­ğŸ¯ã«å…¥ã‚‹ã‚ˆã€œï¼
ã€Œã©ã“ã‚’ä¸­å¿ƒã«ã—ã¦ã€ä½•ã‚’å¤–å´ã«ã™ã‚‹ã®ï¼Ÿã€ã‚’ã€ä¾‹ã§ã‚¹ãƒ‘ãƒƒã¨åˆ†ã‘ã‚‰ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ãã­ğŸ˜ŠğŸŒ¸

[1]: https://nodejs.org/en/about/previous-releases?utm_source=chatgpt.com "Node.js Releases"
[2]: https://github.com/microsoft/typescript/releases "Releases Â· microsoft/TypeScript Â· GitHub"
[3]: https://github.com/typescript-eslint/typescript-eslint/releases?utm_source=chatgpt.com "Releases Â· typescript-eslint/typescript-eslint"
